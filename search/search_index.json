{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#xarray_plotly","title":"<code>xarray_plotly</code>","text":"<p>Interactive Plotly Express plotting for xarray.</p> <p>This package provides a <code>plotly</code> accessor for xarray DataArray and Dataset objects, enabling interactive visualization with Plotly Express.</p> Features <ul> <li>Interactive plots: Zoom, pan, hover, toggle traces</li> <li>Automatic dimension assignment: Dimensions fill slots (x, color, facet) by position</li> <li>Multiple plot types: line, bar, area, scatter, box, imshow</li> <li>Dataset support: Plot all variables at once with \"variable\" dimension</li> <li>Faceting and animation: Built-in subplot grids and animated plots</li> <li>Customizable: Returns Plotly Figure objects for further modification</li> </ul> Usage <p>Accessor style::</p> <pre><code>import xarray_plotly\nfig = da.plotly.line()\nfig = ds.plotly.line()  # Dataset: all variables\n</code></pre> <p>Function style (recommended for IDE completion)::</p> <pre><code>from xarray_plotly import xpx\nfig = xpx(da).line()\nfig = xpx(ds).line()  # Dataset: all variables\n</code></pre> Example <pre><code>import xarray as xr\nimport numpy as np\nfrom xarray_plotly import xpx\n\nda = xr.DataArray(\n    np.random.rand(10, 3, 2),\n    dims=[\"time\", \"city\", \"scenario\"],\n)\nfig = xpx(da).line()  # Auto: time-&gt;x, city-&gt;color, scenario-&gt;facet_col\nfig = xpx(da).line(x=\"time\", color=\"scenario\")  # Explicit\nfig = xpx(da).line(color=None)  # Skip slot\n\n# Dataset: plot all variables (accessor or xpx)\nds = xr.Dataset({\"temp\": da, \"precip\": da})\nfig = xpx(ds).line()  # \"variable\" dimension for color\nfig = xpx(ds).line(facet_col=\"variable\")  # Facet by variable\n</code></pre>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Getting Started - Interactive tutorial</li> <li>Plot Types - All available plot types</li> <li>Dimensions &amp; Facets - Control dimension mapping</li> <li>Figure Customization - Customize your figures</li> <li>API Reference - Full API documentation</li> </ul>"},{"location":"api/","title":"API Reference","text":""},{"location":"api/#xarray_plotly.xpx","title":"<code>xarray_plotly.xpx(data)</code>","text":"<pre><code>xpx(data: DataArray) -&gt; DataArrayPlotlyAccessor\n</code></pre><pre><code>xpx(data: Dataset) -&gt; DatasetPlotlyAccessor\n</code></pre> <p>Get the plotly accessor for a DataArray or Dataset with full IDE code completion.</p> <p>This is an alternative to <code>da.plotly</code> / <code>ds.plotly</code> that provides proper type hints and code completion in IDEs.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataArray | Dataset</code> <p>The DataArray or Dataset to plot.</p> required <p>Returns:</p> Type Description <code>DataArrayPlotlyAccessor | DatasetPlotlyAccessor</code> <p>The accessor with plotting methods (line, bar, area, scatter, box, imshow).</p> Example <pre><code>from xarray_plotly import xpx\n\n# DataArray\nfig = xpx(da).line()  # Full code completion works here\n\n# Dataset\nfig = xpx(ds).line()  # Plots all variables\nfig = xpx(ds).line(var=\"temperature\")  # Single variable\n</code></pre> Source code in <code>xarray_plotly/__init__.py</code> <pre><code>def xpx(data: DataArray | Dataset) -&gt; DataArrayPlotlyAccessor | DatasetPlotlyAccessor:\n    \"\"\"Get the plotly accessor for a DataArray or Dataset with full IDE code completion.\n\n    This is an alternative to `da.plotly` / `ds.plotly` that provides proper type hints\n    and code completion in IDEs.\n\n    Args:\n        data: The DataArray or Dataset to plot.\n\n    Returns:\n        The accessor with plotting methods (line, bar, area, scatter, box, imshow).\n\n    Example:\n        ```python\n        from xarray_plotly import xpx\n\n        # DataArray\n        fig = xpx(da).line()  # Full code completion works here\n\n        # Dataset\n        fig = xpx(ds).line()  # Plots all variables\n        fig = xpx(ds).line(var=\"temperature\")  # Single variable\n        ```\n    \"\"\"\n    if isinstance(data, Dataset):\n        return DatasetPlotlyAccessor(data)\n    return DataArrayPlotlyAccessor(data)\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor","title":"<code>xarray_plotly.accessor.DataArrayPlotlyAccessor</code>","text":"<p>Plotly Express plotting accessor for xarray DataArray.</p> <p>Dimensions are automatically assigned to plot slots by position. All methods return Plotly Figure objects for interactive visualization.</p> <p>Available methods: line, bar, area, scatter, box, imshow</p> <p>Parameters:</p> Name Type Description Default <code>darray</code> <code>DataArray</code> <p>The DataArray to plot.</p> required Example <pre><code>import xarray as xr\nimport numpy as np\n\nda = xr.DataArray(np.random.rand(10, 3), dims=[\"time\", \"city\"])\nfig = da.plotly.line()  # Auto: time-&gt;x, city-&gt;color\nfig = da.plotly.line(color=\"time\", x=\"city\")  # Explicit\nfig = da.plotly.line(color=None)  # Skip slot\nfig.update_layout(title=\"My Plot\")  # Customize\n</code></pre> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>class DataArrayPlotlyAccessor:\n    \"\"\"Plotly Express plotting accessor for xarray DataArray.\n\n    Dimensions are automatically assigned to plot slots by position.\n    All methods return Plotly Figure objects for interactive visualization.\n\n    Available methods: line, bar, area, scatter, box, imshow\n\n    Args:\n        darray: The DataArray to plot.\n\n    Example:\n        ```python\n        import xarray as xr\n        import numpy as np\n\n        da = xr.DataArray(np.random.rand(10, 3), dims=[\"time\", \"city\"])\n        fig = da.plotly.line()  # Auto: time-&gt;x, city-&gt;color\n        fig = da.plotly.line(color=\"time\", x=\"city\")  # Explicit\n        fig = da.plotly.line(color=None)  # Skip slot\n        fig.update_layout(title=\"My Plot\")  # Customize\n        ```\n    \"\"\"\n\n    __all__: ClassVar = [\"line\", \"bar\", \"fast_bar\", \"area\", \"scatter\", \"box\", \"imshow\", \"pie\"]\n\n    def __init__(self, darray: DataArray) -&gt; None:\n        self._da = darray\n\n    def __dir__(self) -&gt; list[str]:\n        \"\"\"List available plot methods.\"\"\"\n        return list(self.__all__) + list(super().__dir__())\n\n    def line(\n        self,\n        *,\n        x: SlotValue = auto,\n        color: SlotValue = auto,\n        line_dash: SlotValue = auto,\n        symbol: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive line plot.\n\n        Slot order: x -&gt; color -&gt; line_dash -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis. Default: first dimension.\n            color: Dimension for color grouping. Default: second dimension.\n            line_dash: Dimension for line dash style. Default: third dimension.\n            symbol: Dimension for marker symbol. Default: fourth dimension.\n            facet_col: Dimension for subplot columns. Default: fifth dimension.\n            facet_row: Dimension for subplot rows. Default: sixth dimension.\n            animation_frame: Dimension for animation. Default: seventh dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.line()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.line(\n            self._da,\n            x=x,\n            color=color,\n            line_dash=line_dash,\n            symbol=symbol,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def bar(\n        self,\n        *,\n        x: SlotValue = auto,\n        color: SlotValue = auto,\n        pattern_shape: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive bar chart.\n\n        Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis. Default: first dimension.\n            color: Dimension for color grouping. Default: second dimension.\n            pattern_shape: Dimension for bar fill pattern. Default: third dimension.\n            facet_col: Dimension for subplot columns. Default: fourth dimension.\n            facet_row: Dimension for subplot rows. Default: fifth dimension.\n            animation_frame: Dimension for animation. Default: sixth dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.bar()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.bar(\n            self._da,\n            x=x,\n            color=color,\n            pattern_shape=pattern_shape,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def area(\n        self,\n        *,\n        x: SlotValue = auto,\n        color: SlotValue = auto,\n        pattern_shape: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive stacked area chart.\n\n        Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis. Default: first dimension.\n            color: Dimension for color/stacking. Default: second dimension.\n            pattern_shape: Dimension for fill pattern. Default: third dimension.\n            facet_col: Dimension for subplot columns. Default: fourth dimension.\n            facet_row: Dimension for subplot rows. Default: fifth dimension.\n            animation_frame: Dimension for animation. Default: sixth dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.area()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.area(\n            self._da,\n            x=x,\n            color=color,\n            pattern_shape=pattern_shape,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def fast_bar(\n        self,\n        *,\n        x: SlotValue = auto,\n        color: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create a bar-like chart using stacked areas for better performance.\n\n        Slot order: x -&gt; color -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis. Default: first dimension.\n            color: Dimension for color/stacking. Default: second dimension.\n            facet_col: Dimension for subplot columns. Default: third dimension.\n            facet_row: Dimension for subplot rows. Default: fourth dimension.\n            animation_frame: Dimension for animation. Default: fifth dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.area()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.fast_bar(\n            self._da,\n            x=x,\n            color=color,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def scatter(\n        self,\n        *,\n        x: SlotValue = auto,\n        y: SlotValue | str = \"value\",\n        color: SlotValue = auto,\n        symbol: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive scatter plot.\n\n        By default, y-axis shows the DataArray values. Set y to a dimension\n        name to create dimension-vs-dimension plots (e.g., lat vs lon).\n\n        Slot order: x -&gt; color -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis. Default: first dimension.\n            y: What to plot on y-axis. Default \"value\" uses DataArray values.\n                Can be a dimension name for dimension vs dimension plots.\n            color: Dimension for color grouping, or \"value\" for DataArray values.\n            symbol: Dimension for marker symbol. Default: third dimension.\n            facet_col: Dimension for subplot columns. Default: fourth dimension.\n            facet_row: Dimension for subplot rows. Default: fifth dimension.\n            animation_frame: Dimension for animation. Default: sixth dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.scatter()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.scatter(\n            self._da,\n            x=x,\n            y=y,\n            color=color,\n            symbol=symbol,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def box(\n        self,\n        *,\n        x: SlotValue = auto,\n        color: SlotValue = None,\n        facet_col: SlotValue = None,\n        facet_row: SlotValue = None,\n        animation_frame: SlotValue = None,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive box plot.\n\n        By default, only the first dimension is assigned to x; all other\n        dimensions are aggregated into the box statistics.\n\n        Slot order: x -&gt; color -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n        Args:\n            x: Dimension for x-axis categories. Default: first dimension.\n            color: Dimension for color grouping. Default: None (aggregated).\n            facet_col: Dimension for subplot columns. Default: None (aggregated).\n            facet_row: Dimension for subplot rows. Default: None (aggregated).\n            animation_frame: Dimension for animation. Default: None (aggregated).\n            **px_kwargs: Additional arguments passed to `plotly.express.box()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.box(\n            self._da,\n            x=x,\n            color=color,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            animation_frame=animation_frame,\n            **px_kwargs,\n        )\n\n    def imshow(\n        self,\n        *,\n        x: SlotValue = auto,\n        y: SlotValue = auto,\n        facet_col: SlotValue = auto,\n        animation_frame: SlotValue = auto,\n        robust: bool = False,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive heatmap image.\n\n        Slot order: y (rows) -&gt; x (columns) -&gt; facet_col -&gt; animation_frame\n\n        Note:\n            **Difference from px.imshow**: Color bounds are computed from the\n            entire dataset by default, ensuring consistent coloring across\n            animation frames. Use `zmin`/`zmax` to override.\n\n        Args:\n            x: Dimension for x-axis (columns). Default: second dimension.\n            y: Dimension for y-axis (rows). Default: first dimension.\n            facet_col: Dimension for subplot columns. Default: third dimension.\n            animation_frame: Dimension for animation. Default: fourth dimension.\n            robust: If True, use 2nd/98th percentiles for color bounds (handles outliers).\n            **px_kwargs: Additional arguments passed to `plotly.express.imshow()`.\n                Use `zmin` and `zmax` to manually set color scale bounds.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.imshow(\n            self._da,\n            x=x,\n            y=y,\n            facet_col=facet_col,\n            animation_frame=animation_frame,\n            robust=robust,\n            **px_kwargs,\n        )\n\n    def pie(\n        self,\n        *,\n        names: SlotValue = auto,\n        color: SlotValue = None,\n        facet_col: SlotValue = auto,\n        facet_row: SlotValue = auto,\n        **px_kwargs: Any,\n    ) -&gt; go.Figure:\n        \"\"\"Create an interactive pie chart.\n\n        Slot order: names -&gt; facet_col -&gt; facet_row\n\n        Args:\n            names: Dimension for pie slice names/categories. Default: first dimension.\n            color: Dimension for color grouping. Default: None (uses names).\n            facet_col: Dimension for subplot columns. Default: second dimension.\n            facet_row: Dimension for subplot rows. Default: third dimension.\n            **px_kwargs: Additional arguments passed to `plotly.express.pie()`.\n\n        Returns:\n            Interactive Plotly Figure.\n        \"\"\"\n        return plotting.pie(\n            self._da,\n            names=names,\n            color=color,\n            facet_col=facet_col,\n            facet_row=facet_row,\n            **px_kwargs,\n        )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.line","title":"<code>line(*, x=auto, color=auto, line_dash=auto, symbol=auto, facet_col=auto, facet_row=auto, animation_frame=auto, **px_kwargs)</code>","text":"<p>Create an interactive line plot.</p> <p>Slot order: x -&gt; color -&gt; line_dash -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis. Default: first dimension.</p> <code>auto</code> <code>color</code> <code>SlotValue</code> <p>Dimension for color grouping. Default: second dimension.</p> <code>auto</code> <code>line_dash</code> <code>SlotValue</code> <p>Dimension for line dash style. Default: third dimension.</p> <code>auto</code> <code>symbol</code> <code>SlotValue</code> <p>Dimension for marker symbol. Default: fourth dimension.</p> <code>auto</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: fifth dimension.</p> <code>auto</code> <code>facet_row</code> <code>SlotValue</code> <p>Dimension for subplot rows. Default: sixth dimension.</p> <code>auto</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: seventh dimension.</p> <code>auto</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.line()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def line(\n    self,\n    *,\n    x: SlotValue = auto,\n    color: SlotValue = auto,\n    line_dash: SlotValue = auto,\n    symbol: SlotValue = auto,\n    facet_col: SlotValue = auto,\n    facet_row: SlotValue = auto,\n    animation_frame: SlotValue = auto,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive line plot.\n\n    Slot order: x -&gt; color -&gt; line_dash -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n    Args:\n        x: Dimension for x-axis. Default: first dimension.\n        color: Dimension for color grouping. Default: second dimension.\n        line_dash: Dimension for line dash style. Default: third dimension.\n        symbol: Dimension for marker symbol. Default: fourth dimension.\n        facet_col: Dimension for subplot columns. Default: fifth dimension.\n        facet_row: Dimension for subplot rows. Default: sixth dimension.\n        animation_frame: Dimension for animation. Default: seventh dimension.\n        **px_kwargs: Additional arguments passed to `plotly.express.line()`.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.line(\n        self._da,\n        x=x,\n        color=color,\n        line_dash=line_dash,\n        symbol=symbol,\n        facet_col=facet_col,\n        facet_row=facet_row,\n        animation_frame=animation_frame,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.bar","title":"<code>bar(*, x=auto, color=auto, pattern_shape=auto, facet_col=auto, facet_row=auto, animation_frame=auto, **px_kwargs)</code>","text":"<p>Create an interactive bar chart.</p> <p>Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis. Default: first dimension.</p> <code>auto</code> <code>color</code> <code>SlotValue</code> <p>Dimension for color grouping. Default: second dimension.</p> <code>auto</code> <code>pattern_shape</code> <code>SlotValue</code> <p>Dimension for bar fill pattern. Default: third dimension.</p> <code>auto</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: fourth dimension.</p> <code>auto</code> <code>facet_row</code> <code>SlotValue</code> <p>Dimension for subplot rows. Default: fifth dimension.</p> <code>auto</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: sixth dimension.</p> <code>auto</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.bar()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def bar(\n    self,\n    *,\n    x: SlotValue = auto,\n    color: SlotValue = auto,\n    pattern_shape: SlotValue = auto,\n    facet_col: SlotValue = auto,\n    facet_row: SlotValue = auto,\n    animation_frame: SlotValue = auto,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive bar chart.\n\n    Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n    Args:\n        x: Dimension for x-axis. Default: first dimension.\n        color: Dimension for color grouping. Default: second dimension.\n        pattern_shape: Dimension for bar fill pattern. Default: third dimension.\n        facet_col: Dimension for subplot columns. Default: fourth dimension.\n        facet_row: Dimension for subplot rows. Default: fifth dimension.\n        animation_frame: Dimension for animation. Default: sixth dimension.\n        **px_kwargs: Additional arguments passed to `plotly.express.bar()`.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.bar(\n        self._da,\n        x=x,\n        color=color,\n        pattern_shape=pattern_shape,\n        facet_col=facet_col,\n        facet_row=facet_row,\n        animation_frame=animation_frame,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.area","title":"<code>area(*, x=auto, color=auto, pattern_shape=auto, facet_col=auto, facet_row=auto, animation_frame=auto, **px_kwargs)</code>","text":"<p>Create an interactive stacked area chart.</p> <p>Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis. Default: first dimension.</p> <code>auto</code> <code>color</code> <code>SlotValue</code> <p>Dimension for color/stacking. Default: second dimension.</p> <code>auto</code> <code>pattern_shape</code> <code>SlotValue</code> <p>Dimension for fill pattern. Default: third dimension.</p> <code>auto</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: fourth dimension.</p> <code>auto</code> <code>facet_row</code> <code>SlotValue</code> <p>Dimension for subplot rows. Default: fifth dimension.</p> <code>auto</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: sixth dimension.</p> <code>auto</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.area()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def area(\n    self,\n    *,\n    x: SlotValue = auto,\n    color: SlotValue = auto,\n    pattern_shape: SlotValue = auto,\n    facet_col: SlotValue = auto,\n    facet_row: SlotValue = auto,\n    animation_frame: SlotValue = auto,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive stacked area chart.\n\n    Slot order: x -&gt; color -&gt; pattern_shape -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n    Args:\n        x: Dimension for x-axis. Default: first dimension.\n        color: Dimension for color/stacking. Default: second dimension.\n        pattern_shape: Dimension for fill pattern. Default: third dimension.\n        facet_col: Dimension for subplot columns. Default: fourth dimension.\n        facet_row: Dimension for subplot rows. Default: fifth dimension.\n        animation_frame: Dimension for animation. Default: sixth dimension.\n        **px_kwargs: Additional arguments passed to `plotly.express.area()`.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.area(\n        self._da,\n        x=x,\n        color=color,\n        pattern_shape=pattern_shape,\n        facet_col=facet_col,\n        facet_row=facet_row,\n        animation_frame=animation_frame,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.scatter","title":"<code>scatter(*, x=auto, y='value', color=auto, symbol=auto, facet_col=auto, facet_row=auto, animation_frame=auto, **px_kwargs)</code>","text":"<p>Create an interactive scatter plot.</p> <p>By default, y-axis shows the DataArray values. Set y to a dimension name to create dimension-vs-dimension plots (e.g., lat vs lon).</p> <p>Slot order: x -&gt; color -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis. Default: first dimension.</p> <code>auto</code> <code>y</code> <code>SlotValue | str</code> <p>What to plot on y-axis. Default \"value\" uses DataArray values. Can be a dimension name for dimension vs dimension plots.</p> <code>'value'</code> <code>color</code> <code>SlotValue</code> <p>Dimension for color grouping, or \"value\" for DataArray values.</p> <code>auto</code> <code>symbol</code> <code>SlotValue</code> <p>Dimension for marker symbol. Default: third dimension.</p> <code>auto</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: fourth dimension.</p> <code>auto</code> <code>facet_row</code> <code>SlotValue</code> <p>Dimension for subplot rows. Default: fifth dimension.</p> <code>auto</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: sixth dimension.</p> <code>auto</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.scatter()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def scatter(\n    self,\n    *,\n    x: SlotValue = auto,\n    y: SlotValue | str = \"value\",\n    color: SlotValue = auto,\n    symbol: SlotValue = auto,\n    facet_col: SlotValue = auto,\n    facet_row: SlotValue = auto,\n    animation_frame: SlotValue = auto,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive scatter plot.\n\n    By default, y-axis shows the DataArray values. Set y to a dimension\n    name to create dimension-vs-dimension plots (e.g., lat vs lon).\n\n    Slot order: x -&gt; color -&gt; symbol -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n    Args:\n        x: Dimension for x-axis. Default: first dimension.\n        y: What to plot on y-axis. Default \"value\" uses DataArray values.\n            Can be a dimension name for dimension vs dimension plots.\n        color: Dimension for color grouping, or \"value\" for DataArray values.\n        symbol: Dimension for marker symbol. Default: third dimension.\n        facet_col: Dimension for subplot columns. Default: fourth dimension.\n        facet_row: Dimension for subplot rows. Default: fifth dimension.\n        animation_frame: Dimension for animation. Default: sixth dimension.\n        **px_kwargs: Additional arguments passed to `plotly.express.scatter()`.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.scatter(\n        self._da,\n        x=x,\n        y=y,\n        color=color,\n        symbol=symbol,\n        facet_col=facet_col,\n        facet_row=facet_row,\n        animation_frame=animation_frame,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.box","title":"<code>box(*, x=auto, color=None, facet_col=None, facet_row=None, animation_frame=None, **px_kwargs)</code>","text":"<p>Create an interactive box plot.</p> <p>By default, only the first dimension is assigned to x; all other dimensions are aggregated into the box statistics.</p> <p>Slot order: x -&gt; color -&gt; facet_col -&gt; facet_row -&gt; animation_frame</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis categories. Default: first dimension.</p> <code>auto</code> <code>color</code> <code>SlotValue</code> <p>Dimension for color grouping. Default: None (aggregated).</p> <code>None</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: None (aggregated).</p> <code>None</code> <code>facet_row</code> <code>SlotValue</code> <p>Dimension for subplot rows. Default: None (aggregated).</p> <code>None</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: None (aggregated).</p> <code>None</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.box()</code>.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def box(\n    self,\n    *,\n    x: SlotValue = auto,\n    color: SlotValue = None,\n    facet_col: SlotValue = None,\n    facet_row: SlotValue = None,\n    animation_frame: SlotValue = None,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive box plot.\n\n    By default, only the first dimension is assigned to x; all other\n    dimensions are aggregated into the box statistics.\n\n    Slot order: x -&gt; color -&gt; facet_col -&gt; facet_row -&gt; animation_frame\n\n    Args:\n        x: Dimension for x-axis categories. Default: first dimension.\n        color: Dimension for color grouping. Default: None (aggregated).\n        facet_col: Dimension for subplot columns. Default: None (aggregated).\n        facet_row: Dimension for subplot rows. Default: None (aggregated).\n        animation_frame: Dimension for animation. Default: None (aggregated).\n        **px_kwargs: Additional arguments passed to `plotly.express.box()`.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.box(\n        self._da,\n        x=x,\n        color=color,\n        facet_col=facet_col,\n        facet_row=facet_row,\n        animation_frame=animation_frame,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.accessor.DataArrayPlotlyAccessor.imshow","title":"<code>imshow(*, x=auto, y=auto, facet_col=auto, animation_frame=auto, robust=False, **px_kwargs)</code>","text":"<p>Create an interactive heatmap image.</p> <p>Slot order: y (rows) -&gt; x (columns) -&gt; facet_col -&gt; animation_frame</p> Note <p>Difference from px.imshow: Color bounds are computed from the entire dataset by default, ensuring consistent coloring across animation frames. Use <code>zmin</code>/<code>zmax</code> to override.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>SlotValue</code> <p>Dimension for x-axis (columns). Default: second dimension.</p> <code>auto</code> <code>y</code> <code>SlotValue</code> <p>Dimension for y-axis (rows). Default: first dimension.</p> <code>auto</code> <code>facet_col</code> <code>SlotValue</code> <p>Dimension for subplot columns. Default: third dimension.</p> <code>auto</code> <code>animation_frame</code> <code>SlotValue</code> <p>Dimension for animation. Default: fourth dimension.</p> <code>auto</code> <code>robust</code> <code>bool</code> <p>If True, use 2nd/98th percentiles for color bounds (handles outliers).</p> <code>False</code> <code>**px_kwargs</code> <code>Any</code> <p>Additional arguments passed to <code>plotly.express.imshow()</code>. Use <code>zmin</code> and <code>zmax</code> to manually set color scale bounds.</p> <code>{}</code> <p>Returns:</p> Type Description <code>Figure</code> <p>Interactive Plotly Figure.</p> Source code in <code>xarray_plotly/accessor.py</code> <pre><code>def imshow(\n    self,\n    *,\n    x: SlotValue = auto,\n    y: SlotValue = auto,\n    facet_col: SlotValue = auto,\n    animation_frame: SlotValue = auto,\n    robust: bool = False,\n    **px_kwargs: Any,\n) -&gt; go.Figure:\n    \"\"\"Create an interactive heatmap image.\n\n    Slot order: y (rows) -&gt; x (columns) -&gt; facet_col -&gt; animation_frame\n\n    Note:\n        **Difference from px.imshow**: Color bounds are computed from the\n        entire dataset by default, ensuring consistent coloring across\n        animation frames. Use `zmin`/`zmax` to override.\n\n    Args:\n        x: Dimension for x-axis (columns). Default: second dimension.\n        y: Dimension for y-axis (rows). Default: first dimension.\n        facet_col: Dimension for subplot columns. Default: third dimension.\n        animation_frame: Dimension for animation. Default: fourth dimension.\n        robust: If True, use 2nd/98th percentiles for color bounds (handles outliers).\n        **px_kwargs: Additional arguments passed to `plotly.express.imshow()`.\n            Use `zmin` and `zmax` to manually set color scale bounds.\n\n    Returns:\n        Interactive Plotly Figure.\n    \"\"\"\n    return plotting.imshow(\n        self._da,\n        x=x,\n        y=y,\n        facet_col=facet_col,\n        animation_frame=animation_frame,\n        robust=robust,\n        **px_kwargs,\n    )\n</code></pre>"},{"location":"api/#xarray_plotly.config","title":"<code>xarray_plotly.config</code>","text":"<p>Configuration for xarray_plotly.</p> <p>This module provides a global configuration system similar to xarray and pandas, allowing users to customize label extraction and slot assignment behavior.</p>"},{"location":"api/#xarray_plotly.config.Options","title":"<code>Options</code>  <code>dataclass</code>","text":"<p>Configuration options for xarray_plotly.</p> <p>Attributes:</p> Name Type Description <code>label_use_long_name</code> <code>bool</code> <p>Use <code>long_name</code> attribute for labels. Default True.</p> <code>label_use_standard_name</code> <code>bool</code> <p>Fall back to <code>standard_name</code> if <code>long_name</code> not available.</p> <code>label_include_units</code> <code>bool</code> <p>Append units to labels. Default True.</p> <code>label_unit_format</code> <code>str</code> <p>Format string for units. Use <code>{units}</code> as placeholder.</p> <code>slot_orders</code> <code>dict[str, tuple[str, ...]]</code> <p>Slot orders per plot type. Keys are plot types, values are tuples.</p> <code>dataset_variable_position</code> <code>int</code> <p>Position of \"variable\" dim when plotting all Dataset variables. Default 1 (second position, typically color). Set to 0 for first position (x-axis), or -1 for last position.</p> Source code in <code>xarray_plotly/config.py</code> <pre><code>@dataclass\nclass Options:\n    \"\"\"Configuration options for xarray_plotly.\n\n    Attributes:\n        label_use_long_name: Use `long_name` attribute for labels. Default True.\n        label_use_standard_name: Fall back to `standard_name` if `long_name` not available.\n        label_include_units: Append units to labels. Default True.\n        label_unit_format: Format string for units. Use `{units}` as placeholder.\n        slot_orders: Slot orders per plot type. Keys are plot types, values are tuples.\n        dataset_variable_position: Position of \"variable\" dim when plotting all Dataset\n            variables. Default 1 (second position, typically color). Set to 0 for first\n            position (x-axis), or -1 for last position.\n    \"\"\"\n\n    label_use_long_name: bool = True\n    label_use_standard_name: bool = True\n    label_include_units: bool = True\n    label_unit_format: str = \"[{units}]\"\n    slot_orders: dict[str, tuple[str, ...]] = field(\n        default_factory=lambda: dict(DEFAULT_SLOT_ORDERS)\n    )\n    dataset_variable_position: int = 1\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        \"\"\"Return options as a dictionary.\"\"\"\n        return {\n            \"label_use_long_name\": self.label_use_long_name,\n            \"label_use_standard_name\": self.label_use_standard_name,\n            \"label_include_units\": self.label_include_units,\n            \"label_unit_format\": self.label_unit_format,\n            \"slot_orders\": self.slot_orders,\n            \"dataset_variable_position\": self.dataset_variable_position,\n        }\n</code></pre>"},{"location":"api/#xarray_plotly.config.Options.to_dict","title":"<code>to_dict()</code>","text":"<p>Return options as a dictionary.</p> Source code in <code>xarray_plotly/config.py</code> <pre><code>def to_dict(self) -&gt; dict[str, Any]:\n    \"\"\"Return options as a dictionary.\"\"\"\n    return {\n        \"label_use_long_name\": self.label_use_long_name,\n        \"label_use_standard_name\": self.label_use_standard_name,\n        \"label_include_units\": self.label_include_units,\n        \"label_unit_format\": self.label_unit_format,\n        \"slot_orders\": self.slot_orders,\n        \"dataset_variable_position\": self.dataset_variable_position,\n    }\n</code></pre>"},{"location":"api/#xarray_plotly.config.notebook","title":"<code>notebook(renderer='notebook')</code>","text":"<p>Configure Plotly for Jupyter notebook rendering.</p> <p>Parameters:</p> Name Type Description Default <code>renderer</code> <code>str</code> <p>The Plotly renderer to use. Default is \"notebook\". Other options include \"jupyterlab\", \"colab\", \"kaggle\", etc.</p> <code>'notebook'</code> Example <pre><code>from xarray_plotly import config\nconfig.notebook()  # Configure for Jupyter notebooks\n</code></pre> Source code in <code>xarray_plotly/config.py</code> <pre><code>def notebook(renderer: str = \"notebook\") -&gt; None:\n    \"\"\"Configure Plotly for Jupyter notebook rendering.\n\n    Args:\n        renderer: The Plotly renderer to use. Default is \"notebook\".\n            Other options include \"jupyterlab\", \"colab\", \"kaggle\", etc.\n\n    Example:\n        ```python\n        from xarray_plotly import config\n        config.notebook()  # Configure for Jupyter notebooks\n        ```\n    \"\"\"\n    import plotly.io as pio\n\n    pio.renderers.default = renderer\n</code></pre>"},{"location":"api/#xarray_plotly.config.get_options","title":"<code>get_options()</code>","text":"<p>Get the current xarray_plotly options.</p> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Dictionary of current option values.</p> Example <pre><code>from xarray_plotly import config\nconfig.get_options()\n</code></pre> Source code in <code>xarray_plotly/config.py</code> <pre><code>def get_options() -&gt; dict[str, Any]:\n    \"\"\"Get the current xarray_plotly options.\n\n    Returns:\n        Dictionary of current option values.\n\n    Example:\n        ```python\n        from xarray_plotly import config\n        config.get_options()\n        ```\n    \"\"\"\n    return _options.to_dict()\n</code></pre>"},{"location":"api/#xarray_plotly.config.set_options","title":"<code>set_options(*, label_use_long_name=None, label_use_standard_name=None, label_include_units=None, label_unit_format=None, slot_orders=None, dataset_variable_position=None)</code>","text":"<p>Set xarray_plotly options globally or as a context manager.</p> <p>Parameters:</p> Name Type Description Default <code>label_use_long_name</code> <code>bool | None</code> <p>Use <code>long_name</code> attribute for labels.</p> <code>None</code> <code>label_use_standard_name</code> <code>bool | None</code> <p>Fall back to <code>standard_name</code> if <code>long_name</code> not available.</p> <code>None</code> <code>label_include_units</code> <code>bool | None</code> <p>Append units to labels.</p> <code>None</code> <code>label_unit_format</code> <code>str | None</code> <p>Format string for units. Use <code>{units}</code> as placeholder.</p> <code>None</code> <code>slot_orders</code> <code>dict[str, tuple[str, ...]] | None</code> <p>Slot orders per plot type.</p> <code>None</code> <code>dataset_variable_position</code> <code>int | None</code> <p>Position of \"variable\" dim when plotting all Dataset variables. Default 1 (second, typically color). Use 0 for first, -1 for last.</p> <code>None</code> <p>Yields:</p> Type Description <code>None</code> <p>None when used as a context manager.</p> Example <pre><code>from xarray_plotly import config, xpx\n\n# Use as context manager\nwith config.set_options(label_include_units=False):\n    fig = xpx(da).line()  # No units in labels\n# Units are back after the context\n</code></pre> Source code in <code>xarray_plotly/config.py</code> <pre><code>@contextmanager\ndef set_options(\n    *,\n    label_use_long_name: bool | None = None,\n    label_use_standard_name: bool | None = None,\n    label_include_units: bool | None = None,\n    label_unit_format: str | None = None,\n    slot_orders: dict[str, tuple[str, ...]] | None = None,\n    dataset_variable_position: int | None = None,\n) -&gt; Generator[None, None, None]:\n    \"\"\"Set xarray_plotly options globally or as a context manager.\n\n    Args:\n        label_use_long_name: Use `long_name` attribute for labels.\n        label_use_standard_name: Fall back to `standard_name` if `long_name` not available.\n        label_include_units: Append units to labels.\n        label_unit_format: Format string for units. Use `{units}` as placeholder.\n        slot_orders: Slot orders per plot type.\n        dataset_variable_position: Position of \"variable\" dim when plotting all Dataset\n            variables. Default 1 (second, typically color). Use 0 for first, -1 for last.\n\n    Yields:\n        None when used as a context manager.\n\n    Example:\n        ```python\n        from xarray_plotly import config, xpx\n\n        # Use as context manager\n        with config.set_options(label_include_units=False):\n            fig = xpx(da).line()  # No units in labels\n        # Units are back after the context\n        ```\n    \"\"\"\n    # Store old values\n    old_values = {\n        \"label_use_long_name\": _options.label_use_long_name,\n        \"label_use_standard_name\": _options.label_use_standard_name,\n        \"label_include_units\": _options.label_include_units,\n        \"label_unit_format\": _options.label_unit_format,\n        \"slot_orders\": dict(_options.slot_orders),\n        \"dataset_variable_position\": _options.dataset_variable_position,\n    }\n\n    # Apply new values (modify in place to keep reference)\n    if label_use_long_name is not None:\n        _options.label_use_long_name = label_use_long_name\n    if label_use_standard_name is not None:\n        _options.label_use_standard_name = label_use_standard_name\n    if label_include_units is not None:\n        _options.label_include_units = label_include_units\n    if label_unit_format is not None:\n        _options.label_unit_format = label_unit_format\n    if slot_orders is not None:\n        _options.slot_orders = dict(slot_orders)\n    if dataset_variable_position is not None:\n        _options.dataset_variable_position = dataset_variable_position\n\n    try:\n        yield\n    finally:\n        # Restore old values (modify in place)\n        _options.label_use_long_name = old_values[\"label_use_long_name\"]\n        _options.label_use_standard_name = old_values[\"label_use_standard_name\"]\n        _options.label_include_units = old_values[\"label_include_units\"]\n        _options.label_unit_format = old_values[\"label_unit_format\"]\n        _options.slot_orders = old_values[\"slot_orders\"]\n        _options.dataset_variable_position = old_values[\"dataset_variable_position\"]\n</code></pre>"},{"location":"api/#xarray_plotly.common","title":"<code>xarray_plotly.common</code>","text":"<p>Common utilities for dimension-to-slot assignment and data conversion.</p>"},{"location":"api/#xarray_plotly.common.auto","title":"<code>auto = _AUTO()</code>  <code>module-attribute</code>","text":""},{"location":"api/#xarray_plotly.common.SLOT_ORDERS","title":"<code>SLOT_ORDERS = DEFAULT_SLOT_ORDERS</code>  <code>module-attribute</code>","text":"<p>Slot orders per plot type.</p> <p>For most plots, y-axis shows DataArray values (not a dimension slot). For imshow, both y and x are dimensions (rows and columns of the heatmap).</p> Note <p>To customize slot orders, use <code>config.set_options(slot_orders=...)</code>.</p>"},{"location":"api/#xarray_plotly.common.assign_slots","title":"<code>assign_slots(dims, plot_type, *, allow_unassigned=False, **slot_kwargs)</code>","text":"<p>Assign dimensions to plot slots based on position.</p> <p>Positional assignment: dimensions fill slots in order. - Explicit assignments lock a dimension to a slot - None skips a slot - Remaining dims fill remaining slots by position - Error if dims left over after all slots filled (unless allow_unassigned=True)</p> <p>Parameters:</p> Name Type Description Default <code>dims</code> <code>Sequence[Hashable]</code> <p>Dimension names from the DataArray.</p> required <code>plot_type</code> <code>str</code> <p>Type of plot (line, bar, area, scatter, box, imshow).</p> required <code>allow_unassigned</code> <code>bool</code> <p>If True, allow dimensions to remain unassigned.</p> <code>False</code> <code>**slot_kwargs</code> <code>SlotValue</code> <p>Explicit slot assignments. Use <code>auto</code> for positional, a dimension name for explicit, or <code>None</code> to skip.</p> <code>{}</code> <p>Returns:</p> Type Description <code>dict[str, Hashable]</code> <p>Mapping of slot names to dimension names.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If plot_type is unknown, dimension doesn't exist, or dimensions are left unassigned (unless allow_unassigned=True).</p> Example <pre><code>assign_slots([\"time\", \"city\", \"scenario\"], \"line\")\n# {'x': 'time', 'color': 'city', 'line_dash': 'scenario'}\n\nassign_slots([\"time\", \"city\"], \"line\", color=\"time\", x=\"city\")\n# {'x': 'city', 'color': 'time'}\n\nassign_slots([\"time\", \"city\", \"scenario\"], \"line\", color=None)\n# {'x': 'time', 'line_dash': 'city', 'symbol': 'scenario'}\n</code></pre> Source code in <code>xarray_plotly/common.py</code> <pre><code>def assign_slots(\n    dims: Sequence[Hashable],\n    plot_type: str,\n    *,\n    allow_unassigned: bool = False,\n    **slot_kwargs: SlotValue,\n) -&gt; dict[str, Hashable]:\n    \"\"\"Assign dimensions to plot slots based on position.\n\n    Positional assignment: dimensions fill slots in order.\n    - Explicit assignments lock a dimension to a slot\n    - None skips a slot\n    - Remaining dims fill remaining slots by position\n    - Error if dims left over after all slots filled (unless allow_unassigned=True)\n\n    Args:\n        dims: Dimension names from the DataArray.\n        plot_type: Type of plot (line, bar, area, scatter, box, imshow).\n        allow_unassigned: If True, allow dimensions to remain unassigned.\n        **slot_kwargs: Explicit slot assignments. Use `auto` for positional,\n            a dimension name for explicit, or `None` to skip.\n\n    Returns:\n        Mapping of slot names to dimension names.\n\n    Raises:\n        ValueError: If plot_type is unknown, dimension doesn't exist, or\n            dimensions are left unassigned (unless allow_unassigned=True).\n\n    Example:\n        ```python\n        assign_slots([\"time\", \"city\", \"scenario\"], \"line\")\n        # {'x': 'time', 'color': 'city', 'line_dash': 'scenario'}\n\n        assign_slots([\"time\", \"city\"], \"line\", color=\"time\", x=\"city\")\n        # {'x': 'city', 'color': 'time'}\n\n        assign_slots([\"time\", \"city\", \"scenario\"], \"line\", color=None)\n        # {'x': 'time', 'line_dash': 'city', 'symbol': 'scenario'}\n        ```\n    \"\"\"\n    slot_orders = _options.slot_orders\n    if plot_type not in slot_orders:\n        msg = f\"Unknown plot type: {plot_type!r}. Available types: {list(slot_orders.keys())}\"\n        raise ValueError(msg)\n\n    slot_order = slot_orders[plot_type]\n    dims_list = list(dims)\n\n    slots: dict[str, Hashable] = {}\n    used_dims: set[Hashable] = set()\n    available_slots = list(slot_order)\n\n    # Pass 1: Process explicit assignments (non-auto, non-None)\n    for slot in slot_order:\n        value = slot_kwargs.get(slot, auto)\n\n        if value is None:\n            # Skip this slot\n            if slot in available_slots:\n                available_slots.remove(slot)\n        elif not isinstance(value, _AUTO):\n            # Explicit assignment - can be a dimension name or \"value\" (DataArray values)\n            if value == \"value\":\n                slots[slot] = \"value\"\n            elif value not in dims_list:\n                msg = (\n                    f\"Dimension {value!r} assigned to slot {slot!r} \"\n                    f\"is not in the data dimensions: {dims_list}\"\n                )\n                raise ValueError(msg)\n            else:\n                slots[slot] = value\n                used_dims.add(value)\n            if slot in available_slots:\n                available_slots.remove(slot)\n\n    # Pass 2: Fill remaining slots with remaining dims (by position)\n    remaining_dims = [d for d in dims_list if d not in used_dims]\n    for slot, dim in zip(available_slots, remaining_dims, strict=False):\n        slots[slot] = dim\n        used_dims.add(dim)\n\n    # Check for unassigned dimensions\n    unassigned = [d for d in dims_list if d not in used_dims]\n    if unassigned and not allow_unassigned:\n        msg = (\n            f\"Unassigned dimension(s): {unassigned}. \"\n            \"Reduce with .sel(), .isel(), or .mean() before plotting.\"\n        )\n        raise ValueError(msg)\n\n    return slots\n</code></pre>"},{"location":"getting-started/","title":"Getting Started","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()  # Configure Plotly for notebook rendering\n</pre> import plotly.express as px import xarray as xr  from xarray_plotly import config, xpx  config.notebook()  # Configure Plotly for notebook rendering In\u00a0[2]: Copied! <pre># Load stock prices from plotly\ndf = px.data.stocks()\ndf = df.set_index(\"date\")\ndf.index = df.index.astype(\"datetime64[ns]\")\n\n# Convert to xarray DataArray\nstocks = xr.DataArray(\n    df.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df.index, \"company\": df.columns.tolist()},\n    name=\"price\",\n    attrs={\"long_name\": \"Stock Price\", \"units\": \"normalized\"},\n)\nstocks\n</pre> # Load stock prices from plotly df = px.data.stocks() df = df.set_index(\"date\") df.index = df.index.astype(\"datetime64[ns]\")  # Convert to xarray DataArray stocks = xr.DataArray(     df.values,     dims=[\"date\", \"company\"],     coords={\"date\": df.index, \"company\": df.columns.tolist()},     name=\"price\",     attrs={\"long_name\": \"Stock Price\", \"units\": \"normalized\"}, ) stocks Out[2]: <pre>&lt;xarray.DataArray 'price' (date: 105, company: 6)&gt; Size: 5kB\narray([[1.        , 1.        , 1.        , 1.        , 1.        ,\n        1.        ],\n       [1.01817228, 1.01194283, 1.06188061, 0.95996783, 1.05352631,\n        1.01598816],\n       [1.03200787, 1.01977147, 1.05324043, 0.97024344, 1.04985953,\n        1.02052385],\n       [1.06678278, 0.98005711, 1.14067562, 1.01685841, 1.30768132,\n        1.06656079],\n       [1.00877316, 0.91714286, 1.16337434, 1.01835693, 1.27353677,\n        1.04070753],\n       [0.94152767, 0.89377145, 1.08986768, 0.94252071, 1.18800893,\n        0.99988659],\n       [0.99325918, 0.98531425, 1.17862076, 0.94921057, 1.32634879,\n        1.04320215],\n       [1.02228215, 1.00285714, 1.22036544, 0.98094721, 1.3616362 ,\n        1.06656079],\n       [0.97885202, 1.00691433, 1.22056884, 0.94525014, 1.43363961,\n        1.0551083 ],\n       [1.05244827, 1.02845712, 1.28454854, 0.99132989, 1.57836085,\n        1.09468192],\n...\n       [1.15560274, 1.46182861, 1.45747427, 1.03623221, 1.3658269 ,\n        1.6296632 ],\n       [1.18974263, 1.48651437, 1.45295083, 1.02135397, 1.38849469,\n        1.65506297],\n       [1.21106304, 1.51862863, 1.41520898, 1.04415306, 1.40497163,\n        1.70053291],\n       [1.17519936, 1.49588571, 1.42027755, 1.06406209, 1.47854661,\n        1.69622398],\n       [1.18392712, 1.52714286, 1.46508943, 1.07915436, 1.49845229,\n        1.71652117],\n       [1.21627974, 1.54691423, 1.42506139, 1.07599677, 1.46364112,\n        1.7207166 ],\n       [1.22282099, 1.57228568, 1.43266017, 1.03885467, 1.42149623,\n        1.75223943],\n       [1.22441776, 1.59680001, 1.45345524, 1.10409417, 1.60436205,\n        1.78489625],\n       [1.22650449, 1.65599993, 1.52122624, 1.11372759, 1.56716981,\n        1.80247197],\n       [1.21301366, 1.67799997, 1.50336003, 1.09847468, 1.5408829 ,\n        1.78818453]])\nCoordinates:\n  * date     (date) datetime64[ns] 840B 2018-01-01 2018-01-08 ... 2019-12-30\n  * company  (company) &lt;U4 96B 'GOOG' 'AAPL' 'AMZN' 'FB' 'NFLX' 'MSFT'\nAttributes:\n    long_name:  Stock Price\n    units:      normalized</pre>xarray.DataArray'price'<ul><li>date: 105</li><li>company: 6</li></ul><ul><li>1.0 1.0 1.0 1.0 1.0 1.0 1.018 ... 1.213 1.678 1.503 1.098 1.541 1.788<pre>array([[1.        , 1.        , 1.        , 1.        , 1.        ,\n        1.        ],\n       [1.01817228, 1.01194283, 1.06188061, 0.95996783, 1.05352631,\n        1.01598816],\n       [1.03200787, 1.01977147, 1.05324043, 0.97024344, 1.04985953,\n        1.02052385],\n       [1.06678278, 0.98005711, 1.14067562, 1.01685841, 1.30768132,\n        1.06656079],\n       [1.00877316, 0.91714286, 1.16337434, 1.01835693, 1.27353677,\n        1.04070753],\n       [0.94152767, 0.89377145, 1.08986768, 0.94252071, 1.18800893,\n        0.99988659],\n       [0.99325918, 0.98531425, 1.17862076, 0.94921057, 1.32634879,\n        1.04320215],\n       [1.02228215, 1.00285714, 1.22036544, 0.98094721, 1.3616362 ,\n        1.06656079],\n       [0.97885202, 1.00691433, 1.22056884, 0.94525014, 1.43363961,\n        1.0551083 ],\n       [1.05244827, 1.02845712, 1.28454854, 0.99132989, 1.57836085,\n        1.09468192],\n...\n       [1.15560274, 1.46182861, 1.45747427, 1.03623221, 1.3658269 ,\n        1.6296632 ],\n       [1.18974263, 1.48651437, 1.45295083, 1.02135397, 1.38849469,\n        1.65506297],\n       [1.21106304, 1.51862863, 1.41520898, 1.04415306, 1.40497163,\n        1.70053291],\n       [1.17519936, 1.49588571, 1.42027755, 1.06406209, 1.47854661,\n        1.69622398],\n       [1.18392712, 1.52714286, 1.46508943, 1.07915436, 1.49845229,\n        1.71652117],\n       [1.21627974, 1.54691423, 1.42506139, 1.07599677, 1.46364112,\n        1.7207166 ],\n       [1.22282099, 1.57228568, 1.43266017, 1.03885467, 1.42149623,\n        1.75223943],\n       [1.22441776, 1.59680001, 1.45345524, 1.10409417, 1.60436205,\n        1.78489625],\n       [1.22650449, 1.65599993, 1.52122624, 1.11372759, 1.56716981,\n        1.80247197],\n       [1.21301366, 1.67799997, 1.50336003, 1.09847468, 1.5408829 ,\n        1.78818453]])</pre></li><li>Coordinates: (2)<ul><li>date(date)datetime64[ns]2018-01-01 ... 2019-12-30<pre>array(['2018-01-01T00:00:00.000000000', '2018-01-08T00:00:00.000000000',\n       '2018-01-15T00:00:00.000000000', '2018-01-22T00:00:00.000000000',\n       '2018-01-29T00:00:00.000000000', '2018-02-05T00:00:00.000000000',\n       '2018-02-12T00:00:00.000000000', '2018-02-19T00:00:00.000000000',\n       '2018-02-26T00:00:00.000000000', '2018-03-05T00:00:00.000000000',\n       '2018-03-12T00:00:00.000000000', '2018-03-19T00:00:00.000000000',\n       '2018-03-26T00:00:00.000000000', '2018-04-02T00:00:00.000000000',\n       '2018-04-09T00:00:00.000000000', '2018-04-16T00:00:00.000000000',\n       '2018-04-23T00:00:00.000000000', '2018-04-30T00:00:00.000000000',\n       '2018-05-07T00:00:00.000000000', '2018-05-14T00:00:00.000000000',\n       '2018-05-21T00:00:00.000000000', '2018-05-28T00:00:00.000000000',\n       '2018-06-04T00:00:00.000000000', '2018-06-11T00:00:00.000000000',\n       '2018-06-18T00:00:00.000000000', '2018-06-25T00:00:00.000000000',\n       '2018-07-02T00:00:00.000000000', '2018-07-09T00:00:00.000000000',\n       '2018-07-16T00:00:00.000000000', '2018-07-23T00:00:00.000000000',\n       '2018-07-30T00:00:00.000000000', '2018-08-06T00:00:00.000000000',\n       '2018-08-13T00:00:00.000000000', '2018-08-20T00:00:00.000000000',\n       '2018-08-27T00:00:00.000000000', '2018-09-03T00:00:00.000000000',\n       '2018-09-10T00:00:00.000000000', '2018-09-17T00:00:00.000000000',\n       '2018-09-24T00:00:00.000000000', '2018-10-01T00:00:00.000000000',\n       '2018-10-08T00:00:00.000000000', '2018-10-15T00:00:00.000000000',\n       '2018-10-22T00:00:00.000000000', '2018-10-29T00:00:00.000000000',\n       '2018-11-05T00:00:00.000000000', '2018-11-12T00:00:00.000000000',\n       '2018-11-19T00:00:00.000000000', '2018-11-26T00:00:00.000000000',\n       '2018-12-03T00:00:00.000000000', '2018-12-10T00:00:00.000000000',\n       '2018-12-17T00:00:00.000000000', '2018-12-24T00:00:00.000000000',\n       '2018-12-31T00:00:00.000000000', '2019-01-07T00:00:00.000000000',\n       '2019-01-14T00:00:00.000000000', '2019-01-21T00:00:00.000000000',\n       '2019-01-28T00:00:00.000000000', '2019-02-04T00:00:00.000000000',\n       '2019-02-11T00:00:00.000000000', '2019-02-18T00:00:00.000000000',\n       '2019-02-25T00:00:00.000000000', '2019-03-04T00:00:00.000000000',\n       '2019-03-11T00:00:00.000000000', '2019-03-18T00:00:00.000000000',\n       '2019-03-25T00:00:00.000000000', '2019-04-01T00:00:00.000000000',\n       '2019-04-08T00:00:00.000000000', '2019-04-15T00:00:00.000000000',\n       '2019-04-22T00:00:00.000000000', '2019-04-29T00:00:00.000000000',\n       '2019-05-06T00:00:00.000000000', '2019-05-13T00:00:00.000000000',\n       '2019-05-20T00:00:00.000000000', '2019-05-27T00:00:00.000000000',\n       '2019-06-03T00:00:00.000000000', '2019-06-10T00:00:00.000000000',\n       '2019-06-17T00:00:00.000000000', '2019-06-24T00:00:00.000000000',\n       '2019-07-01T00:00:00.000000000', '2019-07-08T00:00:00.000000000',\n       '2019-07-15T00:00:00.000000000', '2019-07-22T00:00:00.000000000',\n       '2019-07-29T00:00:00.000000000', '2019-08-05T00:00:00.000000000',\n       '2019-08-12T00:00:00.000000000', '2019-08-19T00:00:00.000000000',\n       '2019-08-26T00:00:00.000000000', '2019-09-02T00:00:00.000000000',\n       '2019-09-09T00:00:00.000000000', '2019-09-16T00:00:00.000000000',\n       '2019-09-23T00:00:00.000000000', '2019-09-30T00:00:00.000000000',\n       '2019-10-07T00:00:00.000000000', '2019-10-14T00:00:00.000000000',\n       '2019-10-21T00:00:00.000000000', '2019-10-28T00:00:00.000000000',\n       '2019-11-04T00:00:00.000000000', '2019-11-11T00:00:00.000000000',\n       '2019-11-18T00:00:00.000000000', '2019-11-25T00:00:00.000000000',\n       '2019-12-02T00:00:00.000000000', '2019-12-09T00:00:00.000000000',\n       '2019-12-16T00:00:00.000000000', '2019-12-23T00:00:00.000000000',\n       '2019-12-30T00:00:00.000000000'], dtype='datetime64[ns]')</pre></li><li>company(company)&lt;U4'GOOG' 'AAPL' ... 'NFLX' 'MSFT'<pre>array(['GOOG', 'AAPL', 'AMZN', 'FB', 'NFLX', 'MSFT'], dtype='&lt;U4')</pre></li></ul></li><li>Attributes: (2)long_name :Stock Priceunits :normalized</li></ul> In\u00a0[3]: Copied! <pre># Dimensions auto-assign: date-&gt;x, company-&gt;color\nfig = xpx(stocks).line()\nfig\n</pre> # Dimensions auto-assign: date-&gt;x, company-&gt;color fig = xpx(stocks).line() fig <p>The plot is fully interactive:</p> <ul> <li>Zoom: Click and drag to select a region</li> <li>Pan: Hold shift and drag</li> <li>Hover: See exact values at each point</li> <li>Toggle traces: Click legend items to show/hide</li> </ul> In\u00a0[4]: Copied! <pre># Put company on x-axis, date on color (just first few dates)\nfig = xpx(stocks.isel(date=[0, 25, 50, 75, 100])).bar(x=\"company\", color=\"date\")\nfig\n</pre> # Put company on x-axis, date on color (just first few dates) fig = xpx(stocks.isel(date=[0, 25, 50, 75, 100])).bar(x=\"company\", color=\"date\") fig In\u00a0[5]: Copied! <pre># Skip color, so company goes to line_dash instead\nfig = xpx(stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"])).line(color=None)\nfig\n</pre> # Skip color, so company goes to line_dash instead fig = xpx(stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"])).line(color=None) fig In\u00a0[6]: Copied! <pre>fig = xpx(stocks).line()\n\nfig.update_layout(\n    title=\"Tech Stock Performance (2018-2019)\",\n    template=\"plotly_white\",\n    legend_title_text=\"Company\",\n)\n\nfig\n</pre> fig = xpx(stocks).line()  fig.update_layout(     title=\"Tech Stock Performance (2018-2019)\",     template=\"plotly_white\",     legend_title_text=\"Company\", )  fig <p>You can also pass Plotly Express arguments directly:</p> In\u00a0[7]: Copied! <pre>fig = xpx(stocks).line(\n    title=\"Stock Prices\",\n    color_discrete_sequence=[\"#E63946\", \"#457B9D\", \"#2A9D8F\", \"#E9C46A\", \"#F4A261\", \"#264653\"],\n    template=\"simple_white\",\n)\nfig\n</pre> fig = xpx(stocks).line(     title=\"Stock Prices\",     color_discrete_sequence=[\"#E63946\", \"#457B9D\", \"#2A9D8F\", \"#E9C46A\", \"#F4A261\", \"#264653\"],     template=\"simple_white\", ) fig In\u00a0[8]: Copied! <pre># View current options\nconfig.get_options()\n</pre> # View current options config.get_options() Out[8]: <pre>{'label_use_long_name': True,\n 'label_use_standard_name': True,\n 'label_include_units': True,\n 'label_unit_format': '[{units}]',\n 'slot_orders': {'line': ('x',\n   'color',\n   'line_dash',\n   'symbol',\n   'facet_col',\n   'facet_row',\n   'animation_frame'),\n  'bar': ('x',\n   'color',\n   'pattern_shape',\n   'facet_col',\n   'facet_row',\n   'animation_frame'),\n  'fast_bar': ('x', 'color', 'facet_col', 'facet_row', 'animation_frame'),\n  'area': ('x',\n   'color',\n   'pattern_shape',\n   'facet_col',\n   'facet_row',\n   'animation_frame'),\n  'scatter': ('x',\n   'color',\n   'symbol',\n   'facet_col',\n   'facet_row',\n   'animation_frame'),\n  'imshow': ('y', 'x', 'facet_col', 'animation_frame'),\n  'box': ('x', 'color', 'facet_col', 'facet_row', 'animation_frame'),\n  'pie': ('names', 'facet_col', 'facet_row')},\n 'dataset_variable_position': 1}</pre>"},{"location":"getting-started/#getting-started","title":"Getting Started\u00b6","text":"<p>This notebook introduces the basics of using xarray_plotly for interactive visualization.</p>"},{"location":"getting-started/#installation","title":"Installation\u00b6","text":"<pre>pip install xarray_plotly\n</pre> <p>Or with uv:</p> <pre>uv add xarray_plotly\n</pre>"},{"location":"getting-started/#basic-usage","title":"Basic Usage\u00b6","text":"<p>Import the <code>xpx</code> function for full IDE code completion:</p>"},{"location":"getting-started/#load-sample-data","title":"Load Sample Data\u00b6","text":"<p>We'll use plotly's built-in stock price data and convert it to an xarray DataArray:</p>"},{"location":"getting-started/#your-first-plot","title":"Your First Plot\u00b6","text":"<p>Create an interactive line plot with a single method call:</p>"},{"location":"getting-started/#dimension-assignment","title":"Dimension Assignment\u00b6","text":"<p>Dimensions are assigned to plot \"slots\" based on their order:</p> Dimension Slot date (1st) x-axis company (2nd) color <p>You can override this with explicit assignments:</p>"},{"location":"getting-started/#skipping-slots","title":"Skipping Slots\u00b6","text":"<p>Use <code>None</code> to skip a slot entirely:</p>"},{"location":"getting-started/#customization","title":"Customization\u00b6","text":"<p>All methods return a Plotly <code>Figure</code> that you can customize:</p>"},{"location":"getting-started/#configuration","title":"Configuration\u00b6","text":"<p>Customize label extraction and other behavior with the config module:</p>"},{"location":"getting-started/#next-steps","title":"Next Steps\u00b6","text":"<ul> <li>Explore different Plot Types</li> <li>Learn Advanced Usage patterns</li> <li>Check the API Reference</li> </ul>"},{"location":"examples/combining/","title":"Combining Figures","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import add_secondary_y, config, overlay, xpx\n\nconfig.notebook()\n</pre> import plotly.express as px import xarray as xr  from xarray_plotly import add_secondary_y, config, overlay, xpx  config.notebook() In\u00a0[2]: Copied! <pre># Stock prices\ndf_stocks = px.data.stocks().set_index(\"date\")\ndf_stocks.index = df_stocks.index.astype(\"datetime64[ns]\")\n\nstocks = xr.DataArray(\n    df_stocks.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df_stocks.index, \"company\": df_stocks.columns.tolist()},\n    name=\"price\",\n)\n\n# Gapminder data (subset: a few countries)\ndf_gap = px.data.gapminder()\ncountries = [\"United States\", \"China\", \"Germany\", \"Brazil\"]\ndf_gap = df_gap[df_gap[\"country\"].isin(countries)]\n\n# Convert to xarray\ngap_pop = df_gap.pivot(index=\"year\", columns=\"country\", values=\"pop\")\ngap_gdp = df_gap.pivot(index=\"year\", columns=\"country\", values=\"gdpPercap\")\ngap_life = df_gap.pivot(index=\"year\", columns=\"country\", values=\"lifeExp\")\n\npopulation = xr.DataArray(\n    gap_pop.values,\n    dims=[\"year\", \"country\"],\n    coords={\"year\": gap_pop.index.values, \"country\": gap_pop.columns.tolist()},\n    name=\"Population\",\n)\n\ngdp_per_capita = xr.DataArray(\n    gap_gdp.values,\n    dims=[\"year\", \"country\"],\n    coords={\"year\": gap_gdp.index.values, \"country\": gap_gdp.columns.tolist()},\n    name=\"GDP per Capita\",\n)\n\nlife_expectancy = xr.DataArray(\n    gap_life.values,\n    dims=[\"year\", \"country\"],\n    coords={\"year\": gap_life.index.values, \"country\": gap_life.columns.tolist()},\n    name=\"Life Expectancy\",\n)\n</pre> # Stock prices df_stocks = px.data.stocks().set_index(\"date\") df_stocks.index = df_stocks.index.astype(\"datetime64[ns]\")  stocks = xr.DataArray(     df_stocks.values,     dims=[\"date\", \"company\"],     coords={\"date\": df_stocks.index, \"company\": df_stocks.columns.tolist()},     name=\"price\", )  # Gapminder data (subset: a few countries) df_gap = px.data.gapminder() countries = [\"United States\", \"China\", \"Germany\", \"Brazil\"] df_gap = df_gap[df_gap[\"country\"].isin(countries)]  # Convert to xarray gap_pop = df_gap.pivot(index=\"year\", columns=\"country\", values=\"pop\") gap_gdp = df_gap.pivot(index=\"year\", columns=\"country\", values=\"gdpPercap\") gap_life = df_gap.pivot(index=\"year\", columns=\"country\", values=\"lifeExp\")  population = xr.DataArray(     gap_pop.values,     dims=[\"year\", \"country\"],     coords={\"year\": gap_pop.index.values, \"country\": gap_pop.columns.tolist()},     name=\"Population\", )  gdp_per_capita = xr.DataArray(     gap_gdp.values,     dims=[\"year\", \"country\"],     coords={\"year\": gap_gdp.index.values, \"country\": gap_gdp.columns.tolist()},     name=\"GDP per Capita\", )  life_expectancy = xr.DataArray(     gap_life.values,     dims=[\"year\", \"country\"],     coords={\"year\": gap_life.index.values, \"country\": gap_life.columns.tolist()},     name=\"Life Expectancy\", ) In\u00a0[3]: Copied! <pre># Select one company\ngoog = stocks.sel(company=\"GOOG\")\n\n# Calculate 20-day moving average\ngoog_ma = goog.rolling(date=20, center=True).mean()\ngoog_ma.name = \"20-day MA\"\n\n# Raw prices as scatter\nprice_fig = xpx(goog).scatter()\nprice_fig.update_traces(marker={\"size\": 4, \"opacity\": 0.5}, name=\"Daily Price\")\n\n# Moving average as line\nma_fig = xpx(goog_ma).line()\nma_fig.update_traces(line={\"color\": \"red\", \"width\": 3}, name=\"20-day MA\")\n\ncombined = overlay(price_fig, ma_fig)\ncombined.update_layout(title=\"GOOG: Daily Price with Moving Average\")\ncombined\n</pre> # Select one company goog = stocks.sel(company=\"GOOG\")  # Calculate 20-day moving average goog_ma = goog.rolling(date=20, center=True).mean() goog_ma.name = \"20-day MA\"  # Raw prices as scatter price_fig = xpx(goog).scatter() price_fig.update_traces(marker={\"size\": 4, \"opacity\": 0.5}, name=\"Daily Price\")  # Moving average as line ma_fig = xpx(goog_ma).line() ma_fig.update_traces(line={\"color\": \"red\", \"width\": 3}, name=\"20-day MA\")  combined = overlay(price_fig, ma_fig) combined.update_layout(title=\"GOOG: Daily Price with Moving Average\") combined In\u00a0[4]: Copied! <pre># Select a few companies\nsubset = stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"])\nsubset_ma = subset.rolling(date=20, center=True).mean()\n\n# Raw as scatter (faded)\nraw_fig = xpx(subset).scatter()\nraw_fig.update_traces(marker={\"size\": 3, \"opacity\": 0.3})\n\n# MA as lines (bold)\nma_fig = xpx(subset_ma).line()\nma_fig.update_traces(line={\"width\": 3})\n\ncombined = overlay(raw_fig, ma_fig)\ncombined.update_layout(title=\"Tech Stocks: Raw Prices + Moving Averages\")\ncombined\n</pre> # Select a few companies subset = stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"]) subset_ma = subset.rolling(date=20, center=True).mean()  # Raw as scatter (faded) raw_fig = xpx(subset).scatter() raw_fig.update_traces(marker={\"size\": 3, \"opacity\": 0.3})  # MA as lines (bold) ma_fig = xpx(subset_ma).line() ma_fig.update_traces(line={\"width\": 3})  combined = overlay(raw_fig, ma_fig) combined.update_layout(title=\"Tech Stocks: Raw Prices + Moving Averages\") combined In\u00a0[5]: Copied! <pre># Faceted by company\nraw_faceted = xpx(subset).scatter(facet_col=\"company\")\nraw_faceted.update_traces(marker={\"size\": 3, \"opacity\": 0.4})\n\nma_faceted = xpx(subset_ma).line(facet_col=\"company\")\nma_faceted.update_traces(line={\"color\": \"red\", \"width\": 2})\n\ncombined = overlay(raw_faceted, ma_faceted)\ncombined.update_layout(title=\"Faceted: Price + Moving Average per Company\")\ncombined\n</pre> # Faceted by company raw_faceted = xpx(subset).scatter(facet_col=\"company\") raw_faceted.update_traces(marker={\"size\": 3, \"opacity\": 0.4})  ma_faceted = xpx(subset_ma).line(facet_col=\"company\") ma_faceted.update_traces(line={\"color\": \"red\", \"width\": 2})  combined = overlay(raw_faceted, ma_faceted) combined.update_layout(title=\"Faceted: Price + Moving Average per Company\") combined In\u00a0[6]: Copied! <pre># Animate through countries, showing population bar + GDP line\n# Both use the same animation dimension\npop_anim = xpx(population).bar(animation_frame=\"country\")\npop_anim.update_traces(marker={\"opacity\": 0.6})\n\n# Create a \"target\" line (e.g., some reference value)\npop_smooth = population.rolling(year=3, center=True).mean()\nsmooth_anim = xpx(pop_smooth).line(animation_frame=\"country\")\nsmooth_anim.update_traces(line={\"color\": \"red\", \"width\": 3})\n\ncombined = overlay(pop_anim, smooth_anim)\ncombined.update_layout(title=\"Population: Raw + Smoothed (animated by country)\")\ncombined\n</pre> # Animate through countries, showing population bar + GDP line # Both use the same animation dimension pop_anim = xpx(population).bar(animation_frame=\"country\") pop_anim.update_traces(marker={\"opacity\": 0.6})  # Create a \"target\" line (e.g., some reference value) pop_smooth = population.rolling(year=3, center=True).mean() smooth_anim = xpx(pop_smooth).line(animation_frame=\"country\") smooth_anim.update_traces(line={\"color\": \"red\", \"width\": 3})  combined = overlay(pop_anim, smooth_anim) combined.update_layout(title=\"Population: Raw + Smoothed (animated by country)\") combined In\u00a0[7]: Copied! <pre># Animated population\npop_anim = xpx(population).bar(animation_frame=\"country\")\npop_anim.update_traces(marker={\"opacity\": 0.7})\n\n# Static reference line (global average across all countries)\nglobal_avg = population.mean(dim=\"country\")\navg_fig = xpx(global_avg).line()\navg_fig.update_traces(line={\"color\": \"black\", \"width\": 2, \"dash\": \"dash\"}, name=\"Global Avg\")\n\ncombined = overlay(pop_anim, avg_fig)\ncombined.update_layout(title=\"Population by Country vs Global Average\")\ncombined\n</pre> # Animated population pop_anim = xpx(population).bar(animation_frame=\"country\") pop_anim.update_traces(marker={\"opacity\": 0.7})  # Static reference line (global average across all countries) global_avg = population.mean(dim=\"country\") avg_fig = xpx(global_avg).line() avg_fig.update_traces(line={\"color\": \"black\", \"width\": 2, \"dash\": \"dash\"}, name=\"Global Avg\")  combined = overlay(pop_anim, avg_fig) combined.update_layout(title=\"Population by Country vs Global Average\") combined In\u00a0[8]: Copied! <pre># Select one country\nus_pop = population.sel(country=\"United States\")\nus_gdp = gdp_per_capita.sel(country=\"United States\")\n\npop_fig = xpx(us_pop).bar()\npop_fig.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7}, name=\"Population\")\n\ngdp_fig = xpx(us_gdp).line()\ngdp_fig.update_traces(line={\"color\": \"red\", \"width\": 3}, name=\"GDP per Capita\")\n\ncombined = add_secondary_y(pop_fig, gdp_fig, secondary_y_title=\"GDP per Capita ($)\")\ncombined.update_layout(\n    title=\"United States: Population vs GDP per Capita\",\n    yaxis_title=\"Population\",\n)\ncombined\n</pre> # Select one country us_pop = population.sel(country=\"United States\") us_gdp = gdp_per_capita.sel(country=\"United States\")  pop_fig = xpx(us_pop).bar() pop_fig.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7}, name=\"Population\")  gdp_fig = xpx(us_gdp).line() gdp_fig.update_traces(line={\"color\": \"red\", \"width\": 3}, name=\"GDP per Capita\")  combined = add_secondary_y(pop_fig, gdp_fig, secondary_y_title=\"GDP per Capita ($)\") combined.update_layout(     title=\"United States: Population vs GDP per Capita\",     yaxis_title=\"Population\", ) combined In\u00a0[9]: Copied! <pre># Same data on single y-axis - GDP looks flat because population is ~1e8, GDP is ~1e4\npop_fig = xpx(us_pop).line()\npop_fig.update_traces(name=\"Population\", line={\"color\": \"blue\"})\n\ngdp_fig = xpx(us_gdp).line()\ngdp_fig.update_traces(name=\"GDP per Capita\", line={\"color\": \"red\"})\n\nbad = overlay(pop_fig, gdp_fig)\nbad.update_layout(title=\"overlay: GDP invisible (scale mismatch)\")\nbad\n</pre> # Same data on single y-axis - GDP looks flat because population is ~1e8, GDP is ~1e4 pop_fig = xpx(us_pop).line() pop_fig.update_traces(name=\"Population\", line={\"color\": \"blue\"})  gdp_fig = xpx(us_gdp).line() gdp_fig.update_traces(name=\"GDP per Capita\", line={\"color\": \"red\"})  bad = overlay(pop_fig, gdp_fig) bad.update_layout(title=\"overlay: GDP invisible (scale mismatch)\") bad In\u00a0[10]: Copied! <pre># With add_secondary_y - both variables visible\npop_fig = xpx(us_pop).line()\npop_fig.update_traces(name=\"Population\", line={\"color\": \"blue\", \"width\": 2})\n\ngdp_fig = xpx(us_gdp).line()\ngdp_fig.update_traces(name=\"GDP per Capita\", line={\"color\": \"red\", \"width\": 2})\n\ngood = add_secondary_y(pop_fig, gdp_fig, secondary_y_title=\"GDP per Capita ($)\")\ngood.update_layout(title=\"add_secondary_y: Both variables clearly visible\")\ngood\n</pre> # With add_secondary_y - both variables visible pop_fig = xpx(us_pop).line() pop_fig.update_traces(name=\"Population\", line={\"color\": \"blue\", \"width\": 2})  gdp_fig = xpx(us_gdp).line() gdp_fig.update_traces(name=\"GDP per Capita\", line={\"color\": \"red\", \"width\": 2})  good = add_secondary_y(pop_fig, gdp_fig, secondary_y_title=\"GDP per Capita ($)\") good.update_layout(title=\"add_secondary_y: Both variables clearly visible\") good In\u00a0[11]: Copied! <pre># Animate through countries\npop_anim = xpx(population).bar(animation_frame=\"country\")\npop_anim.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})\n\ngdp_anim = xpx(gdp_per_capita).line(animation_frame=\"country\")\ngdp_anim.update_traces(line={\"color\": \"red\", \"width\": 3})\n\ncombined = add_secondary_y(pop_anim, gdp_anim, secondary_y_title=\"GDP per Capita ($)\")\ncombined.update_layout(title=\"Population vs GDP (animated by country)\")\ncombined\n</pre> # Animate through countries pop_anim = xpx(population).bar(animation_frame=\"country\") pop_anim.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})  gdp_anim = xpx(gdp_per_capita).line(animation_frame=\"country\") gdp_anim.update_traces(line={\"color\": \"red\", \"width\": 3})  combined = add_secondary_y(pop_anim, gdp_anim, secondary_y_title=\"GDP per Capita ($)\") combined.update_layout(title=\"Population vs GDP (animated by country)\") combined In\u00a0[12]: Copied! <pre># Animated population\npop_anim = xpx(population).bar(animation_frame=\"country\")\npop_anim.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})\n\n# Static GDP reference (US only, shown in all frames)\nus_gdp_static = xpx(us_gdp).line()\nus_gdp_static.update_traces(\n    line={\"color\": \"red\", \"width\": 2, \"dash\": \"dash\"}, name=\"US GDP (reference)\"\n)\n\ncombined = add_secondary_y(pop_anim, us_gdp_static, secondary_y_title=\"GDP per Capita ($)\")\ncombined.update_layout(title=\"Population (animated) vs US GDP (static reference)\")\ncombined\n</pre> # Animated population pop_anim = xpx(population).bar(animation_frame=\"country\") pop_anim.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})  # Static GDP reference (US only, shown in all frames) us_gdp_static = xpx(us_gdp).line() us_gdp_static.update_traces(     line={\"color\": \"red\", \"width\": 2, \"dash\": \"dash\"}, name=\"US GDP (reference)\" )  combined = add_secondary_y(pop_anim, us_gdp_static, secondary_y_title=\"GDP per Capita ($)\") combined.update_layout(title=\"Population (animated) vs US GDP (static reference)\") combined In\u00a0[13]: Copied! <pre># Faceted by country - both figures must have same facet structure\npop_faceted = xpx(population).bar(facet_col=\"country\")\npop_faceted.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})\n\ngdp_faceted = xpx(gdp_per_capita).line(facet_col=\"country\")\ngdp_faceted.update_traces(line={\"color\": \"red\", \"width\": 3})\n\ncombined = add_secondary_y(pop_faceted, gdp_faceted, secondary_y_title=\"GDP per Capita ($)\")\ncombined.update_layout(title=\"Population vs GDP per Capita (faceted by country)\")\ncombined\n</pre> # Faceted by country - both figures must have same facet structure pop_faceted = xpx(population).bar(facet_col=\"country\") pop_faceted.update_traces(marker={\"color\": \"steelblue\", \"opacity\": 0.7})  gdp_faceted = xpx(gdp_per_capita).line(facet_col=\"country\") gdp_faceted.update_traces(line={\"color\": \"red\", \"width\": 3})  combined = add_secondary_y(pop_faceted, gdp_faceted, secondary_y_title=\"GDP per Capita ($)\") combined.update_layout(title=\"Population vs GDP per Capita (faceted by country)\") combined In\u00a0[14]: Copied! <pre># Base: no facets\nbase = xpx(stocks.sel(company=\"GOOG\")).line()\n\n# Overlay: has facets\noverlay_fig = xpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).line(facet_col=\"company\")\n\ntry:\n    overlay(base, overlay_fig)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Base: no facets base = xpx(stocks.sel(company=\"GOOG\")).line()  # Overlay: has facets overlay_fig = xpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).line(facet_col=\"company\")  try:     overlay(base, overlay_fig) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Overlay figure has subplots not present in base figure: {('x2', 'y2')}. Ensure both figures have the same facet structure.\n</pre> In\u00a0[15]: Copied! <pre># Base: static\nstatic_base = xpx(population.sel(country=\"United States\")).line()\n\n# Overlay: animated\nanimated_overlay = xpx(population).line(animation_frame=\"country\")\n\ntry:\n    overlay(static_base, animated_overlay)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Base: static static_base = xpx(population.sel(country=\"United States\")).line()  # Overlay: animated animated_overlay = xpx(population).line(animation_frame=\"country\")  try:     overlay(static_base, animated_overlay) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Overlay figure has animation frames but base figure does not. Cannot add animated overlay to static base figure.\n</pre> In\u00a0[16]: Copied! <pre># Different countries selected = different frame names\nfig1 = xpx(population.sel(country=[\"United States\", \"China\"])).line(animation_frame=\"country\")\nfig2 = xpx(population.sel(country=[\"Germany\", \"Brazil\"])).line(animation_frame=\"country\")\n\ntry:\n    overlay(fig1, fig2)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Different countries selected = different frame names fig1 = xpx(population.sel(country=[\"United States\", \"China\"])).line(animation_frame=\"country\") fig2 = xpx(population.sel(country=[\"Germany\", \"Brazil\"])).line(animation_frame=\"country\")  try:     overlay(fig1, fig2) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Animation frame names don't match between base and overlay. Missing in overlay: {'China', 'United States'}. Extra in overlay: {'Germany', 'Brazil'}.\n</pre> In\u00a0[17]: Copied! <pre># Base with facets\npop_faceted = xpx(population).bar(facet_col=\"country\")\n\n# Secondary without facets (different structure)\ngdp_single = xpx(gdp_per_capita.sel(country=\"United States\")).line()\n\ntry:\n    add_secondary_y(pop_faceted, gdp_single)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Base with facets pop_faceted = xpx(population).bar(facet_col=\"country\")  # Secondary without facets (different structure) gdp_single = xpx(gdp_per_capita.sel(country=\"United States\")).line()  try:     add_secondary_y(pop_faceted, gdp_single) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Base and secondary figures must have the same facet structure. Base has {('x2', 'y2'), ('x3', 'y3'), ('x', 'y'), ('x4', 'y4')}, secondary has {('x', 'y')}.\n</pre> In\u00a0[18]: Copied! <pre># Static base\nstatic_pop = xpx(population.sel(country=\"United States\")).bar()\n\n# Animated secondary\nanimated_gdp = xpx(gdp_per_capita).line(animation_frame=\"country\")\n\ntry:\n    add_secondary_y(static_pop, animated_gdp)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Static base static_pop = xpx(population.sel(country=\"United States\")).bar()  # Animated secondary animated_gdp = xpx(gdp_per_capita).line(animation_frame=\"country\")  try:     add_secondary_y(static_pop, animated_gdp) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Overlay figure has animation frames but base figure does not. Cannot add animated overlay to static base figure.\n</pre> In\u00a0[19]: Copied! <pre># Different countries = different frames\npop_some = xpx(population.sel(country=[\"United States\", \"China\"])).bar(animation_frame=\"country\")\ngdp_other = xpx(gdp_per_capita.sel(country=[\"Germany\", \"Brazil\"])).line(animation_frame=\"country\")\n\ntry:\n    add_secondary_y(pop_some, gdp_other)\nexcept ValueError as e:\n    print(f\"ValueError: {e}\")\n</pre> # Different countries = different frames pop_some = xpx(population.sel(country=[\"United States\", \"China\"])).bar(animation_frame=\"country\") gdp_other = xpx(gdp_per_capita.sel(country=[\"Germany\", \"Brazil\"])).line(animation_frame=\"country\")  try:     add_secondary_y(pop_some, gdp_other) except ValueError as e:     print(f\"ValueError: {e}\") <pre>ValueError: Animation frame names don't match between base and overlay. Missing in overlay: {'China', 'United States'}. Extra in overlay: {'Germany', 'Brazil'}.\n</pre>"},{"location":"examples/combining/#combining-figures","title":"Combining Figures\u00b6","text":"<p>xarray-plotly provides helper functions to combine multiple figures:</p> <ul> <li><code>overlay</code>: Overlay traces on the same axes</li> <li><code>add_secondary_y</code>: Plot with two independent y-axes</li> </ul>"},{"location":"examples/combining/#load-sample-data","title":"Load Sample Data\u00b6","text":""},{"location":"examples/combining/#overlay","title":"overlay\u00b6","text":"<p>Overlay multiple figures on the same axes. Useful for showing data with a trend line, moving average, or different visualizations of related data.</p>"},{"location":"examples/combining/#stock-price-with-moving-average","title":"Stock Price with Moving Average\u00b6","text":""},{"location":"examples/combining/#multiple-companies-with-moving-averages","title":"Multiple Companies with Moving Averages\u00b6","text":""},{"location":"examples/combining/#with-facets","title":"With Facets\u00b6","text":"<p><code>overlay</code> works with faceted figures as long as both have the same structure.</p>"},{"location":"examples/combining/#with-animation","title":"With Animation\u00b6","text":"<p>Overlay animated figures - frames are merged correctly.</p>"},{"location":"examples/combining/#static-overlay-on-animated-base","title":"Static Overlay on Animated Base\u00b6","text":"<p>A static figure can be overlaid on an animated one - the static traces appear in all frames.</p>"},{"location":"examples/combining/#add_secondary_y","title":"add_secondary_y\u00b6","text":"<p>Plot two variables with different scales using independent y-axes. Essential when values have different magnitudes.</p>"},{"location":"examples/combining/#population-vs-gdp-per-capita","title":"Population vs GDP per Capita\u00b6","text":""},{"location":"examples/combining/#why-secondary-y-axis-matters","title":"Why Secondary Y-Axis Matters\u00b6","text":"<p>Without it, one variable dominates due to scale mismatch:</p>"},{"location":"examples/combining/#with-animation","title":"With Animation\u00b6","text":"<p><code>add_secondary_y</code> supports animated figures with matching frames.</p>"},{"location":"examples/combining/#static-secondary-on-animated-base","title":"Static Secondary on Animated Base\u00b6","text":"<p>A static secondary figure is replicated to all animation frames.</p>"},{"location":"examples/combining/#with-facets","title":"With Facets\u00b6","text":"<p><code>add_secondary_y</code> works with faceted figures when both have the same facet structure.</p>"},{"location":"examples/combining/#limitations-with-examples","title":"Limitations (with examples)\u00b6","text":"<p>Both functions validate inputs and raise clear errors when constraints are violated.</p>"},{"location":"examples/combining/#overlay-mismatched-facet-structure","title":"overlay: Mismatched Facet Structure\u00b6","text":"<p>Overlay cannot have subplots that don't exist in base.</p>"},{"location":"examples/combining/#overlay-animated-overlay-on-static-base","title":"overlay: Animated Overlay on Static Base\u00b6","text":"<p>Cannot add an animated overlay to a static base figure.</p>"},{"location":"examples/combining/#overlay-mismatched-animation-frames","title":"overlay: Mismatched Animation Frames\u00b6","text":"<p>Animation frame names must match exactly.</p>"},{"location":"examples/combining/#add_secondary_y-mismatched-facet-structure","title":"add_secondary_y: Mismatched Facet Structure\u00b6","text":"<p>Both figures must have the same facet structure.</p>"},{"location":"examples/combining/#add_secondary_y-animated-secondary-on-static-base","title":"add_secondary_y: Animated Secondary on Static Base\u00b6","text":"<p>Cannot add animated secondary to static base.</p>"},{"location":"examples/combining/#add_secondary_y-mismatched-animation-frames","title":"add_secondary_y: Mismatched Animation Frames\u00b6","text":""},{"location":"examples/combining/#summary","title":"Summary\u00b6","text":"Function Facets Animation Static + Animated <code>overlay</code> Yes (must match) Yes (frames must match) Static overlay on animated base OK <code>add_secondary_y</code> Yes (must match) Yes (frames must match) Static secondary on animated base OK"},{"location":"examples/datasets/","title":"Dataset Plotting","text":"In\u00a0[1]: Copied! <pre>import numpy as np\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import numpy as np import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre># Create a Dataset with multiple variables\ntime = np.arange(50)\ncities = [\"NYC\", \"LA\", \"Chicago\"]\n\nds = xr.Dataset(\n    {\n        \"temperature\": ([\"time\", \"city\"], 20 + 5 * np.random.randn(50, 3).cumsum(axis=0) / 10),\n        \"humidity\": ([\"time\", \"city\"], 50 + 10 * np.random.randn(50, 3).cumsum(axis=0) / 10),\n        \"pressure\": ([\"time\", \"city\"], 1013 + np.random.randn(50, 3).cumsum(axis=0)),\n    },\n    coords={\"time\": time, \"city\": cities},\n)\nds\n</pre> # Create a Dataset with multiple variables time = np.arange(50) cities = [\"NYC\", \"LA\", \"Chicago\"]  ds = xr.Dataset(     {         \"temperature\": ([\"time\", \"city\"], 20 + 5 * np.random.randn(50, 3).cumsum(axis=0) / 10),         \"humidity\": ([\"time\", \"city\"], 50 + 10 * np.random.randn(50, 3).cumsum(axis=0) / 10),         \"pressure\": ([\"time\", \"city\"], 1013 + np.random.randn(50, 3).cumsum(axis=0)),     },     coords={\"time\": time, \"city\": cities}, ) ds Out[2]: <pre>&lt;xarray.Dataset&gt; Size: 4kB\nDimensions:      (time: 50, city: 3)\nCoordinates:\n  * time         (time) int64 400B 0 1 2 3 4 5 6 7 8 ... 42 43 44 45 46 47 48 49\n  * city         (city) &lt;U7 84B 'NYC' 'LA' 'Chicago'\nData variables:\n    temperature  (time, city) float64 1kB 19.52 20.63 19.29 ... 18.41 21.14\n    humidity     (time, city) float64 1kB 49.62 50.45 50.05 ... 45.56 55.36\n    pressure     (time, city) float64 1kB 1.012e+03 1.013e+03 ... 1.012e+03</pre>xarray.Dataset<ul><li>Dimensions:<ul><li>time: 50</li><li>city: 3</li></ul></li><li>Coordinates: (2)<ul><li>time(time)int640 1 2 3 4 5 6 ... 44 45 46 47 48 49<pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,\n       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n       36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49])</pre></li><li>city(city)&lt;U7'NYC' 'LA' 'Chicago'<pre>array(['NYC', 'LA', 'Chicago'], dtype='&lt;U7')</pre></li></ul></li><li>Data variables: (3)<ul><li>temperature(time, city)float6419.52 20.63 19.29 ... 18.41 21.14<pre>array([[19.51974503, 20.63060573, 19.28994457],\n       [20.26650398, 19.72065687, 19.63012341],\n       [19.71999048, 19.29141094, 19.84412463],\n       [20.29551997, 19.61091038, 19.76375708],\n       [19.94114912, 19.23007989, 19.47477639],\n       [20.78091509, 18.82984576, 18.76597377],\n       [20.47306843, 19.01876218, 18.22783465],\n       [20.77990027, 19.15668858, 17.76441424],\n       [20.64675604, 19.45777103, 18.72428633],\n       [20.4632589 , 19.11676501, 19.23337901],\n       [20.50268839, 18.7963995 , 19.00156614],\n       [19.25082652, 19.56190803, 19.30981942],\n       [19.29983759, 19.56170236, 19.32791067],\n       [19.6400962 , 19.13356601, 19.76540311],\n       [19.59622901, 18.74592008, 19.1343718 ],\n       [19.50505716, 19.59693298, 19.40347118],\n       [20.14646531, 19.63109227, 19.54350053],\n       [19.68200867, 18.90156926, 19.49325547],\n       [20.46766625, 18.72481949, 20.12384552],\n       [20.16020964, 19.39592714, 20.44108539],\n...\n       [18.10084622, 18.90455821, 21.92310718],\n       [17.89166621, 18.52658449, 21.57826555],\n       [17.1176807 , 18.69812439, 20.91574552],\n       [16.62831724, 19.97734444, 21.20522585],\n       [16.66746462, 19.62971241, 21.26349377],\n       [16.65620316, 18.68940301, 21.76313655],\n       [16.98908783, 18.69963611, 21.48502171],\n       [16.52398293, 18.16459064, 21.00641472],\n       [15.7665921 , 18.15466409, 20.67021708],\n       [16.08134372, 18.61904833, 21.10299088],\n       [16.44598934, 18.74067762, 21.45669188],\n       [16.25246315, 18.89302666, 22.20116895],\n       [16.30996018, 18.21343778, 22.54285436],\n       [16.04992327, 17.38761738, 21.68139668],\n       [15.64372276, 17.23153219, 21.60304532],\n       [15.51179466, 17.34544532, 21.20943263],\n       [15.05279157, 17.6883672 , 20.84978361],\n       [14.49621717, 18.18966427, 20.28695757],\n       [14.13560279, 18.48394029, 21.22769362],\n       [14.71509831, 18.41220425, 21.14001074]])</pre></li><li>humidity(time, city)float6449.62 50.45 50.05 ... 45.56 55.36<pre>array([[49.62318598, 50.44988935, 50.05351415],\n       [49.00079814, 51.19439568, 51.37316401],\n       [49.15978773, 51.27634359, 51.57595203],\n       [50.41025757, 50.47169181, 53.09124432],\n       [51.12747411, 49.96901381, 54.48081051],\n       [50.28555961, 51.32926854, 56.3057481 ],\n       [51.25455108, 50.8874043 , 56.22442267],\n       [52.89304642, 50.81663481, 57.52284904],\n       [51.93689226, 51.0363153 , 56.98747246],\n       [52.57130852, 51.4337078 , 55.58798141],\n       [52.38660238, 51.50605284, 54.70776671],\n       [52.13290895, 50.9350148 , 54.75520672],\n       [51.35094553, 50.02381089, 53.96160214],\n       [51.73583342, 51.04921151, 53.1646918 ],\n       [51.90766394, 50.47340114, 52.85661856],\n       [51.2317295 , 51.21254352, 52.65398534],\n       [52.61233805, 52.29709289, 53.67777915],\n       [52.54718443, 52.09986733, 53.8123544 ],\n       [51.28197133, 52.47254554, 52.77781442],\n       [51.12830209, 52.84226118, 52.17838474],\n...\n       [47.61877026, 47.04757059, 51.03446638],\n       [47.16174276, 48.36901844, 53.01926555],\n       [46.57469331, 49.13531674, 53.7593569 ],\n       [45.38228009, 49.02263155, 54.80079455],\n       [46.64448811, 49.25591497, 54.71339436],\n       [45.81297028, 49.60182971, 55.54731083],\n       [45.77639942, 48.57677179, 55.46688511],\n       [44.83484575, 47.94695761, 55.62794623],\n       [45.45592945, 47.13357641, 53.7742248 ],\n       [47.69020738, 46.90911007, 53.68233426],\n       [47.50646916, 47.70696214, 52.88147814],\n       [48.79563079, 47.77897931, 52.92424723],\n       [48.29991665, 46.9060159 , 53.87772754],\n       [50.97774166, 45.40489545, 53.99054249],\n       [51.34528766, 45.73940362, 53.43991904],\n       [51.41949035, 45.4625905 , 55.10458046],\n       [50.05272034, 43.49731834, 54.61177128],\n       [50.80947604, 45.18218194, 54.97903331],\n       [51.17033546, 45.30186991, 54.72294025],\n       [49.25555462, 45.56372656, 55.35921322]])</pre></li><li>pressure(time, city)float641.012e+03 1.013e+03 ... 1.012e+03<pre>array([[1011.9434859 , 1013.48577425, 1012.86702659],\n       [1013.12364187, 1011.50437495, 1013.4274108 ],\n       [1011.67252466, 1011.97737971, 1013.2976196 ],\n       [1012.32113824, 1012.32052968, 1013.56534755],\n       [1011.74113755, 1013.51056593, 1012.56934209],\n       [1010.19303058, 1014.30760393, 1013.21130767],\n       [1009.83999241, 1016.33869971, 1012.51560559],\n       [1011.62944956, 1016.25821756, 1011.72962416],\n       [1011.21664736, 1015.78639477, 1009.62355529],\n       [1011.32967178, 1016.11633914, 1010.69825274],\n       [1010.58469728, 1016.25436217, 1010.66140111],\n       [1010.5120767 , 1015.58416384, 1009.75091088],\n       [1010.73350931, 1015.29202457, 1010.90411539],\n       [1010.65160291, 1015.03124271, 1011.82809958],\n       [1011.15968702, 1014.70755682, 1011.90627855],\n       [1011.30755796, 1016.00625334, 1011.56063675],\n       [1014.18622526, 1015.09728152, 1014.14129481],\n       [1015.80211114, 1016.62714356, 1012.08462401],\n       [1014.96255647, 1015.33847914, 1011.13872255],\n       [1014.95325302, 1016.6670753 , 1010.35687084],\n...\n       [1013.92114126, 1016.39362863, 1011.07845646],\n       [1013.11630035, 1015.49016332, 1010.93646976],\n       [1013.82561866, 1014.51316976, 1010.07285988],\n       [1013.79609224, 1013.06341862, 1009.66474529],\n       [1012.3765167 , 1011.61651937, 1008.82937866],\n       [1011.04159942, 1011.9381327 , 1009.32129933],\n       [1010.17581093, 1012.31726015, 1008.5743617 ],\n       [1009.08799142, 1013.80162379, 1008.22403339],\n       [1009.60704367, 1014.00376531, 1009.9651925 ],\n       [1009.26899097, 1013.51211684, 1007.9587044 ],\n       [1010.70958183, 1015.01945487, 1009.31629076],\n       [1009.76794805, 1015.55110909, 1009.97829709],\n       [1011.11147704, 1013.7007478 , 1010.49215851],\n       [1008.91832908, 1012.7647396 , 1010.74137713],\n       [1008.34820285, 1011.74216706, 1009.98375306],\n       [1009.58977612, 1011.47937731, 1009.98921174],\n       [1009.89707944, 1010.97055283, 1009.59082398],\n       [1010.4628409 , 1011.94534719, 1010.56857056],\n       [1010.50273637, 1011.41044124, 1011.57270835],\n       [1007.35800029, 1011.06143497, 1011.97799079]])</pre></li></ul></li></ul> In\u00a0[3]: Copied! <pre># All variables: time -&gt; x, variable -&gt; color, city -&gt; line_dash\nxpx(ds).line()\n</pre> # All variables: time -&gt; x, variable -&gt; color, city -&gt; line_dash xpx(ds).line() In\u00a0[4]: Copied! <pre># Variables as facet columns\nxpx(ds).line(facet_col=\"variable\")\n</pre> # Variables as facet columns xpx(ds).line(facet_col=\"variable\") In\u00a0[5]: Copied! <pre># Variables as rows, cities as columns\nxpx(ds).line(facet_row=\"variable\", facet_col=\"city\")\n</pre> # Variables as rows, cities as columns xpx(ds).line(facet_row=\"variable\", facet_col=\"city\") In\u00a0[6]: Copied! <pre># Default: position=1 (second) -&gt; variable goes to color\n# Note: to_array() puts \"variable\" first, but xpx() reorders it to position 1\nprint(\"Raw to_array() dims:\", ds.to_array().dims)  # (variable, time, city)\nprint(\"After xpx reorder:   (time, variable, city)\")  # time-&gt;x, variable-&gt;color\nxpx(ds).line(title=\"Default: variable as color (position=1)\")\n</pre> # Default: position=1 (second) -&gt; variable goes to color # Note: to_array() puts \"variable\" first, but xpx() reorders it to position 1 print(\"Raw to_array() dims:\", ds.to_array().dims)  # (variable, time, city) print(\"After xpx reorder:   (time, variable, city)\")  # time-&gt;x, variable-&gt;color xpx(ds).line(title=\"Default: variable as color (position=1)\") <pre>Raw to_array() dims: ('variable', 'time', 'city')\nAfter xpx reorder:   (time, variable, city)\n</pre> In\u00a0[7]: Copied! <pre># Position 0: variable goes first (x-axis) - usually not what you want!\nwith config.set_options(dataset_variable_position=0):\n    fig = xpx(ds).line(title=\"position=0: variable on x-axis (probably not desired)\")\nfig\n</pre> # Position 0: variable goes first (x-axis) - usually not what you want! with config.set_options(dataset_variable_position=0):     fig = xpx(ds).line(title=\"position=0: variable on x-axis (probably not desired)\") fig In\u00a0[8]: Copied! <pre># Position -1: variable goes last -&gt; city gets color, variable gets line_dash\nwith config.set_options(dataset_variable_position=-1):\n    fig = xpx(ds).line(title=\"position=-1: variable as line_dash\")\nfig\n</pre> # Position -1: variable goes last -&gt; city gets color, variable gets line_dash with config.set_options(dataset_variable_position=-1):     fig = xpx(ds).line(title=\"position=-1: variable as line_dash\") fig In\u00a0[9]: Copied! <pre>xpx(ds).line(var=\"temperature\", title=\"Temperature Only\")\n</pre> xpx(ds).line(var=\"temperature\", title=\"Temperature Only\") In\u00a0[10]: Copied! <pre># Bar chart - latest values by city\nxpx(ds.isel(time=-1)).bar(x=\"city\", color=\"variable\", barmode=\"group\")\n</pre> # Bar chart - latest values by city xpx(ds.isel(time=-1)).bar(x=\"city\", color=\"variable\", barmode=\"group\") In\u00a0[11]: Copied! <pre># Box plot - distribution by variable\nxpx(ds).box(x=\"variable\", color=\"city\")\n</pre> # Box plot - distribution by variable xpx(ds).box(x=\"variable\", color=\"city\") In\u00a0[12]: Copied! <pre># Area chart\nxpx(ds).area(var=\"humidity\", title=\"Humidity Over Time\")\n</pre> # Area chart xpx(ds).area(var=\"humidity\", title=\"Humidity Over Time\") In\u00a0[13]: Copied! <pre># Scatter\nxpx(ds).scatter(var=\"temperature\", title=\"Temperature Scatter\")\n</pre> # Scatter xpx(ds).scatter(var=\"temperature\", title=\"Temperature Scatter\") In\u00a0[14]: Copied! <pre># Pie chart - snapshot at one time\nxpx(ds.isel(time=-1)).pie(var=\"temperature\", names=\"city\", title=\"Temperature Distribution\")\n</pre> # Pie chart - snapshot at one time xpx(ds.isel(time=-1)).pie(var=\"temperature\", names=\"city\", title=\"Temperature Distribution\") In\u00a0[15]: Copied! <pre># Explicit: variable -&gt; facet_col, let city auto-assign to color\nxpx(ds).line(facet_col=\"variable\", color=\"city\")\n</pre> # Explicit: variable -&gt; facet_col, let city auto-assign to color xpx(ds).line(facet_col=\"variable\", color=\"city\") In\u00a0[16]: Copied! <pre># Skip color slot with None\nxpx(ds).line(var=\"temperature\", color=None)\n</pre> # Skip color slot with None xpx(ds).line(var=\"temperature\", color=None)"},{"location":"examples/datasets/#dataset-plotting","title":"Dataset Plotting\u00b6","text":"<p>Plot multiple variables from an xarray Dataset with automatic or custom slot assignment.</p>"},{"location":"examples/datasets/#plot-all-variables","title":"Plot All Variables\u00b6","text":"<p>When you call a plot method on a Dataset without specifying <code>var</code>, all variables are combined into a single DataArray with a new <code>\"variable\"</code> dimension:</p>"},{"location":"examples/datasets/#control-where-variable-goes","title":"Control Where \"variable\" Goes\u00b6","text":"<p>The <code>\"variable\"</code> dimension can be assigned to any slot:</p>"},{"location":"examples/datasets/#configure-default-variable-position","title":"Configure Default \"variable\" Position\u00b6","text":"<p>By default, <code>\"variable\"</code> is placed as the second dimension so it maps to <code>color</code>. This keeps your first dimension (e.g., time) on the x-axis.</p> <p>You can change this globally with <code>config.set_options()</code>:</p>"},{"location":"examples/datasets/#plot-a-single-variable","title":"Plot a Single Variable\u00b6","text":"<p>Use <code>var=\"name\"</code> to plot just one variable:</p>"},{"location":"examples/datasets/#different-plot-types","title":"Different Plot Types\u00b6","text":""},{"location":"examples/datasets/#combining-slot-assignments","title":"Combining Slot Assignments\u00b6","text":"<p>Mix explicit assignments with auto-assignment:</p>"},{"location":"examples/dimensions/","title":"Dimensions, Facets &amp; Animation","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import plotly.express as px import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre># Sample data: 2D\ndf = px.data.stocks().set_index(\"date\")\ndf.index = df.index.astype(\"datetime64[ns]\")\n\nstocks = xr.DataArray(\n    df.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df.index, \"company\": df.columns.tolist()},\n    name=\"price\",\n)\n\n# Sample data: 3D\ndf_gap = px.data.gapminder()\ncountries = [\"United States\", \"China\", \"Germany\", \"Brazil\"]\nmetrics = [\"lifeExp\", \"gdpPercap\"]\n\narrays = []\nfor metric in metrics:\n    df_pivot = df_gap[df_gap[\"country\"].isin(countries)].pivot(\n        index=\"year\", columns=\"country\", values=metric\n    )\n    arrays.append(df_pivot.values)\n\ndata_3d = xr.DataArray(\n    arrays,\n    dims=[\"metric\", \"year\", \"country\"],\n    coords={\n        \"metric\": metrics,\n        \"year\": df_pivot.index.tolist(),\n        \"country\": df_pivot.columns.tolist(),\n    },\n    name=\"value\",\n)\n</pre> # Sample data: 2D df = px.data.stocks().set_index(\"date\") df.index = df.index.astype(\"datetime64[ns]\")  stocks = xr.DataArray(     df.values,     dims=[\"date\", \"company\"],     coords={\"date\": df.index, \"company\": df.columns.tolist()},     name=\"price\", )  # Sample data: 3D df_gap = px.data.gapminder() countries = [\"United States\", \"China\", \"Germany\", \"Brazil\"] metrics = [\"lifeExp\", \"gdpPercap\"]  arrays = [] for metric in metrics:     df_pivot = df_gap[df_gap[\"country\"].isin(countries)].pivot(         index=\"year\", columns=\"country\", values=metric     )     arrays.append(df_pivot.values)  data_3d = xr.DataArray(     arrays,     dims=[\"metric\", \"year\", \"country\"],     coords={         \"metric\": metrics,         \"year\": df_pivot.index.tolist(),         \"country\": df_pivot.columns.tolist(),     },     name=\"value\", ) In\u00a0[3]: Copied! <pre># date \u2192 x, company \u2192 color\nxpx(stocks).line()\n</pre> # date \u2192 x, company \u2192 color xpx(stocks).line() In\u00a0[4]: Copied! <pre># Swap: company \u2192 x, date \u2192 color\nxpx(stocks.isel(date=[0, 50, 100])).bar(x=\"company\", color=\"date\")\n</pre> # Swap: company \u2192 x, date \u2192 color xpx(stocks.isel(date=[0, 50, 100])).bar(x=\"company\", color=\"date\") In\u00a0[5]: Copied! <pre># Skip color \u2192 company goes to line_dash instead\nxpx(stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"])).line(color=None)\n</pre> # Skip color \u2192 company goes to line_dash instead xpx(stocks.sel(company=[\"GOOG\", \"AAPL\", \"MSFT\"])).line(color=None) In\u00a0[6]: Copied! <pre># line_dash for third dimension\nxpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).line(line_dash=\"company\")\n</pre> # line_dash for third dimension xpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).line(line_dash=\"company\") In\u00a0[7]: Copied! <pre># symbol for scatter\nxpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).scatter(symbol=\"company\")\n</pre> # symbol for scatter xpx(stocks.sel(company=[\"GOOG\", \"AAPL\"])).scatter(symbol=\"company\") In\u00a0[8]: Copied! <pre># One subplot per metric\nxpx(data_3d).line(facet_col=\"metric\")\n</pre> # One subplot per metric xpx(data_3d).line(facet_col=\"metric\") In\u00a0[9]: Copied! <pre># Grid: metric x country\nxpx(data_3d).line(x=\"year\", facet_col=\"metric\", facet_row=\"country\")\n</pre> # Grid: metric x country xpx(data_3d).line(x=\"year\", facet_col=\"metric\", facet_row=\"country\") In\u00a0[10]: Copied! <pre># Animate through years\nxpx(data_3d.sel(metric=\"lifeExp\")).bar(x=\"country\", animation_frame=\"year\")\n</pre> # Animate through years xpx(data_3d.sel(metric=\"lifeExp\")).bar(x=\"country\", animation_frame=\"year\") In\u00a0[11]: Copied! <pre># Animate heatmap\nxpx(data_3d).imshow(animation_frame=\"metric\")\n</pre> # Animate heatmap xpx(data_3d).imshow(animation_frame=\"metric\")"},{"location":"examples/dimensions/#dimensions-facets-animation","title":"Dimensions, Facets &amp; Animation\u00b6","text":"<p>How to control which dimensions map to which visual properties.</p>"},{"location":"examples/dimensions/#default-dimension-assignment","title":"Default Dimension Assignment\u00b6","text":"<p>Dimensions are assigned to slots in order:</p>"},{"location":"examples/dimensions/#explicit-assignment","title":"Explicit Assignment\u00b6","text":"<p>Override the defaults by specifying which dimension goes where:</p>"},{"location":"examples/dimensions/#skipping-slots-with-none","title":"Skipping Slots with None\u00b6","text":"<p>Use <code>None</code> to skip a slot, so dimensions shift to the next available slot:</p>"},{"location":"examples/dimensions/#available-slots","title":"Available Slots\u00b6","text":"<p>Different plot types have different slots:</p> Plot Slots (in order) line x, color, line_dash, facet_col, facet_row, animation_frame scatter x, color, symbol, facet_col, facet_row, animation_frame bar x, color, facet_col, facet_row, animation_frame imshow x, y, facet_col, facet_row, animation_frame"},{"location":"examples/dimensions/#faceting","title":"Faceting\u00b6","text":"<p>Create a grid of subplots with <code>facet_col</code> and <code>facet_row</code>:</p>"},{"location":"examples/dimensions/#animation","title":"Animation\u00b6","text":"<p>Animate over a dimension with <code>animation_frame</code>:</p>"},{"location":"examples/fast_bar/","title":"Fast Bar Charts","text":"In\u00a0[1]: Copied! <pre>import numpy as np\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import numpy as np import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre># Quarterly revenue data by product and region\nnp.random.seed(42)\nda = xr.DataArray(\n    np.random.rand(4, 3, 2) * 100 + 50,\n    dims=[\"quarter\", \"product\", \"region\"],\n    coords={\n        \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n        \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],\n        \"region\": [\"North\", \"South\"],\n    },\n    name=\"revenue\",\n)\n\nxpx(da).fast_bar()\n</pre> # Quarterly revenue data by product and region np.random.seed(42) da = xr.DataArray(     np.random.rand(4, 3, 2) * 100 + 50,     dims=[\"quarter\", \"product\", \"region\"],     coords={         \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],         \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],         \"region\": [\"North\", \"South\"],     },     name=\"revenue\", )  xpx(da).fast_bar() In\u00a0[3]: Copied! <pre># Comparison with regular bar()\nxpx(da).bar()\n</pre> # Comparison with regular bar() xpx(da).bar() In\u00a0[4]: Copied! <pre>xpx(da).fast_bar(facet_col=\"region\")\n</pre> xpx(da).fast_bar(facet_col=\"region\") In\u00a0[5]: Copied! <pre># Multi-year data for animation\nnp.random.seed(123)\nda_anim = xr.DataArray(\n    np.random.rand(4, 3, 5) * 100 + 20,\n    dims=[\"quarter\", \"product\", \"year\"],\n    coords={\n        \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n        \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],\n        \"year\": [2020, 2021, 2022, 2023, 2024],\n    },\n    name=\"revenue\",\n)\n\nxpx(da_anim).fast_bar(animation_frame=\"year\")\n</pre> # Multi-year data for animation np.random.seed(123) da_anim = xr.DataArray(     np.random.rand(4, 3, 5) * 100 + 20,     dims=[\"quarter\", \"product\", \"year\"],     coords={         \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],         \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],         \"year\": [2020, 2021, 2022, 2023, 2024],     },     name=\"revenue\", )  xpx(da_anim).fast_bar(animation_frame=\"year\") In\u00a0[6]: Copied! <pre># 4D data: quarter x product x region x year\nnp.random.seed(456)\nda_4d = xr.DataArray(\n    np.random.rand(4, 3, 2, 4) * 80 + 30,\n    dims=[\"quarter\", \"product\", \"region\", \"year\"],\n    coords={\n        \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n        \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],\n        \"region\": [\"North\", \"South\"],\n        \"year\": [2021, 2022, 2023, 2024],\n    },\n    name=\"revenue\",\n)\n\nxpx(da_4d).fast_bar(facet_col=\"region\", animation_frame=\"year\")\n</pre> # 4D data: quarter x product x region x year np.random.seed(456) da_4d = xr.DataArray(     np.random.rand(4, 3, 2, 4) * 80 + 30,     dims=[\"quarter\", \"product\", \"region\", \"year\"],     coords={         \"quarter\": [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],         \"product\": [\"Widgets\", \"Gadgets\", \"Gizmos\"],         \"region\": [\"North\", \"South\"],         \"year\": [2021, 2022, 2023, 2024],     },     name=\"revenue\", )  xpx(da_4d).fast_bar(facet_col=\"region\", animation_frame=\"year\") In\u00a0[7]: Copied! <pre># Profit (positive) and Loss (negative) - stacks correctly\nnp.random.seed(789)\nda_split = xr.DataArray(\n    np.column_stack(\n        [\n            np.random.rand(6) * 80 + 20,  # Revenue: positive\n            -np.random.rand(6) * 50 - 10,  # Costs: negative\n        ]\n    ),\n    dims=[\"month\", \"category\"],\n    coords={\n        \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n        \"category\": [\"Revenue\", \"Costs\"],\n    },\n    name=\"financials\",\n)\n\nxpx(da_split).fast_bar()\n</pre> # Profit (positive) and Loss (negative) - stacks correctly np.random.seed(789) da_split = xr.DataArray(     np.column_stack(         [             np.random.rand(6) * 80 + 20,  # Revenue: positive             -np.random.rand(6) * 50 - 10,  # Costs: negative         ]     ),     dims=[\"month\", \"category\"],     coords={         \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],         \"category\": [\"Revenue\", \"Costs\"],     },     name=\"financials\", )  xpx(da_split).fast_bar() In\u00a0[8]: Copied! <pre># With animation - sign classification is consistent across frames\nnp.random.seed(321)\nda_split_anim = xr.DataArray(\n    np.stack(\n        [\n            np.column_stack([np.random.rand(6) * 80 + 20, -np.random.rand(6) * 50 - 10])\n            for _ in range(4)\n        ],\n        axis=-1,\n    ),\n    dims=[\"month\", \"category\", \"year\"],\n    coords={\n        \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],\n        \"category\": [\"Revenue\", \"Costs\"],\n        \"year\": [2021, 2022, 2023, 2024],\n    },\n    name=\"financials\",\n)\n\nxpx(da_split_anim).fast_bar(animation_frame=\"year\")\n</pre> # With animation - sign classification is consistent across frames np.random.seed(321) da_split_anim = xr.DataArray(     np.stack(         [             np.column_stack([np.random.rand(6) * 80 + 20, -np.random.rand(6) * 50 - 10])             for _ in range(4)         ],         axis=-1,     ),     dims=[\"month\", \"category\", \"year\"],     coords={         \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\"],         \"category\": [\"Revenue\", \"Costs\"],         \"year\": [2021, 2022, 2023, 2024],     },     name=\"financials\", )  xpx(da_split_anim).fast_bar(animation_frame=\"year\") In\u00a0[9]: Copied! <pre># Both columns have mixed signs - triggers warning\nda_mixed = xr.DataArray(\n    np.array(\n        [\n            [50, -30],\n            [-40, 60],\n            [30, -50],\n            [-20, 40],\n        ]\n    ),\n    dims=[\"month\", \"category\"],\n    coords={\n        \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\"],\n        \"category\": [\"A\", \"B\"],\n    },\n)\n\n# This will show a warning\nxpx(da_mixed).fast_bar()\n</pre> # Both columns have mixed signs - triggers warning da_mixed = xr.DataArray(     np.array(         [             [50, -30],             [-40, 60],             [30, -50],             [-20, 40],         ]     ),     dims=[\"month\", \"category\"],     coords={         \"month\": [\"Jan\", \"Feb\", \"Mar\", \"Apr\"],         \"category\": [\"A\", \"B\"],     }, )  # This will show a warning xpx(da_mixed).fast_bar() <pre>/home/runner/work/xarray_plotly/xarray_plotly/xarray_plotly/accessor.py:188: UserWarning:\n\nfast_bar: traces ['A', 'B'] have mixed positive/negative values and cannot be stacked. They are shown as dashed lines. Consider using bar() for proper stacking of mixed data.\n\n</pre> In\u00a0[10]: Copied! <pre># For mixed data, use bar() instead\nxpx(da_mixed).bar()\n</pre> # For mixed data, use bar() instead xpx(da_mixed).bar()"},{"location":"examples/fast_bar/#fast-bar-charts","title":"Fast Bar Charts\u00b6","text":"<p>The <code>fast_bar()</code> method creates bar-like visualizations using stacked areas. This renders much faster than actual bar charts for large datasets because it uses a single polygon per trace instead of individual rectangles.</p>"},{"location":"examples/fast_bar/#basic-example","title":"Basic Example\u00b6","text":""},{"location":"examples/fast_bar/#with-faceting","title":"With Faceting\u00b6","text":""},{"location":"examples/fast_bar/#with-animation","title":"With Animation\u00b6","text":""},{"location":"examples/fast_bar/#faceting-animation","title":"Faceting + Animation\u00b6","text":""},{"location":"examples/fast_bar/#positive-and-negative-values","title":"Positive and Negative Values\u00b6","text":"<p><code>fast_bar()</code> classifies each trace by its values:</p> <ul> <li>Purely positive \u2192 stacks upward</li> <li>Purely negative \u2192 stacks downward</li> <li>Mixed signs \u2192 warning + dashed line (use <code>bar()</code> instead)</li> </ul>"},{"location":"examples/fast_bar/#mixed-sign-warning","title":"Mixed Sign Warning\u00b6","text":"<p>When a trace has both positive and negative values, <code>fast_bar()</code> shows a warning and displays it as a dashed line:</p>"},{"location":"examples/fast_bar/#when-to-use","title":"When to Use\u00b6","text":"Method Use when... <code>fast_bar()</code> Large datasets, animations, performance matters, data is same-sign per trace <code>bar()</code> Need grouped bars, pattern fills, or have mixed +/- values per trace <code>area()</code> Want smooth continuous fills"},{"location":"examples/figure/","title":"Working with Figures","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport plotly.graph_objects as go\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import plotly.express as px import plotly.graph_objects as go import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre>df = px.data.stocks().set_index(\"date\")\ndf.index = df.index.astype(\"datetime64[ns]\")\n\nstocks = xr.DataArray(\n    df.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df.index, \"company\": df.columns.tolist()},\n    name=\"price\",\n)\n</pre> df = px.data.stocks().set_index(\"date\") df.index = df.index.astype(\"datetime64[ns]\")  stocks = xr.DataArray(     df.values,     dims=[\"date\", \"company\"],     coords={\"date\": df.index, \"company\": df.columns.tolist()},     name=\"price\", ) In\u00a0[3]: Copied! <pre>fig = xpx(stocks).line()\nfig.update_layout(\n    title={\"text\": \"Stock Prices\", \"x\": 0.5},\n    legend={\"orientation\": \"h\", \"y\": 1.02},\n)\nfig\n</pre> fig = xpx(stocks).line() fig.update_layout(     title={\"text\": \"Stock Prices\", \"x\": 0.5},     legend={\"orientation\": \"h\", \"y\": 1.02}, ) fig In\u00a0[4]: Copied! <pre>fig = xpx(stocks).line()\nfig.update_traces(line={\"width\": 3})\nfig\n</pre> fig = xpx(stocks).line() fig.update_traces(line={\"width\": 3}) fig In\u00a0[5]: Copied! <pre>fig = xpx(stocks).scatter()\nfig.update_traces(marker={\"size\": 10, \"opacity\": 0.7})\nfig\n</pre> fig = xpx(stocks).scatter() fig.update_traces(marker={\"size\": 10, \"opacity\": 0.7}) fig In\u00a0[6]: Copied! <pre>fig = xpx(stocks).line()\nfig.update_xaxes(rangeslider_visible=True)\nfig.update_yaxes(tickformat=\".0%\")\nfig\n</pre> fig = xpx(stocks).line() fig.update_xaxes(rangeslider_visible=True) fig.update_yaxes(tickformat=\".0%\") fig In\u00a0[7]: Copied! <pre>fig = xpx(stocks).line()\nfig.add_hline(y=1.0, line_dash=\"dash\", line_color=\"gray\", annotation_text=\"Baseline\")\nfig.add_vline(x=\"2018-10-01\", line_dash=\"dot\", line_color=\"red\")\nfig\n</pre> fig = xpx(stocks).line() fig.add_hline(y=1.0, line_dash=\"dash\", line_color=\"gray\", annotation_text=\"Baseline\") fig.add_vline(x=\"2018-10-01\", line_dash=\"dot\", line_color=\"red\") fig In\u00a0[8]: Copied! <pre>fig = xpx(stocks).line()\nfig.add_annotation(x=\"2018-10-01\", y=1.4, text=\"Peak\", showarrow=True, arrowhead=2)\nfig\n</pre> fig = xpx(stocks).line() fig.add_annotation(x=\"2018-10-01\", y=1.4, text=\"Peak\", showarrow=True, arrowhead=2) fig In\u00a0[9]: Copied! <pre>fig = xpx(stocks.sel(company=\"GOOG\")).line()\n\n# Add moving average\ngoog = stocks.sel(company=\"GOOG\")\nma = goog.rolling(date=20, center=True).mean()\n\nfig.add_trace(\n    go.Scatter(\n        x=ma.coords[\"date\"].values,\n        y=ma.values,\n        mode=\"lines\",\n        name=\"20-day MA\",\n        line={\"dash\": \"dash\", \"color\": \"red\"},\n    )\n)\nfig\n</pre> fig = xpx(stocks.sel(company=\"GOOG\")).line()  # Add moving average goog = stocks.sel(company=\"GOOG\") ma = goog.rolling(date=20, center=True).mean()  fig.add_trace(     go.Scatter(         x=ma.coords[\"date\"].values,         y=ma.values,         mode=\"lines\",         name=\"20-day MA\",         line={\"dash\": \"dash\", \"color\": \"red\"},     ) ) fig"},{"location":"examples/figure/#working-with-figures","title":"Working with Figures\u00b6","text":"<p>All methods return a Plotly Figure that can be modified and exported.</p>"},{"location":"examples/figure/#update_layout","title":"update_layout\u00b6","text":"<p>Modify layout properties: title, legend, margins, fonts.</p>"},{"location":"examples/figure/#update_traces","title":"update_traces\u00b6","text":"<p>Modify trace properties: line width, markers, opacity.</p>"},{"location":"examples/figure/#update_xaxes-update_yaxes","title":"update_xaxes / update_yaxes\u00b6","text":"<p>Modify axis properties.</p>"},{"location":"examples/figure/#add_hline-add_vline","title":"add_hline / add_vline\u00b6","text":"<p>Add reference lines. See shapes.</p>"},{"location":"examples/figure/#add_annotation","title":"add_annotation\u00b6","text":"<p>Add text annotations. See annotations.</p>"},{"location":"examples/figure/#add_trace","title":"add_trace\u00b6","text":"<p>Add custom traces using Graph Objects.</p>"},{"location":"examples/figure/#export","title":"Export\u00b6","text":""},{"location":"examples/figure/#html","title":"HTML\u00b6","text":"<p>See HTML export.</p> <pre>fig.write_html(\"plot.html\")\nfig.write_html(\"plot.html\", include_plotlyjs=\"cdn\")  # smaller file\n</pre>"},{"location":"examples/figure/#images","title":"Images\u00b6","text":"<p>Requires kaleido: <code>pip install kaleido</code></p> <p>See static image export.</p> <pre>fig.write_image(\"plot.png\")\nfig.write_image(\"plot.png\", scale=2)  # higher resolution\nfig.write_image(\"plot.svg\")\nfig.write_image(\"plot.pdf\")\n</pre>"},{"location":"examples/kwargs/","title":"Plotly Express Kwargs","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import plotly.express as px import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre>df = px.data.stocks().set_index(\"date\")\ndf.index = df.index.astype(\"datetime64[ns]\")\n\nstocks = xr.DataArray(\n    df.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df.index, \"company\": df.columns.tolist()},\n    name=\"price\",\n)\n</pre> df = px.data.stocks().set_index(\"date\") df.index = df.index.astype(\"datetime64[ns]\")  stocks = xr.DataArray(     df.values,     dims=[\"date\", \"company\"],     coords={\"date\": df.index, \"company\": df.columns.tolist()},     name=\"price\", ) In\u00a0[3]: Copied! <pre>xpx(stocks).line(title=\"Stock Prices\")\n</pre> xpx(stocks).line(title=\"Stock Prices\") In\u00a0[4]: Copied! <pre>xpx(stocks).line(template=\"plotly_dark\")\n</pre> xpx(stocks).line(template=\"plotly_dark\") In\u00a0[5]: Copied! <pre>xpx(stocks).line(template=\"seaborn\")\n</pre> xpx(stocks).line(template=\"seaborn\") In\u00a0[6]: Copied! <pre>xpx(stocks).line(labels={\"price\": \"Normalized Price\", \"date\": \"Date\", \"company\": \"Ticker\"})\n</pre> xpx(stocks).line(labels={\"price\": \"Normalized Price\", \"date\": \"Date\", \"company\": \"Ticker\"}) In\u00a0[7]: Copied! <pre>xpx(stocks).line(color_discrete_sequence=px.colors.qualitative.Set2)\n</pre> xpx(stocks).line(color_discrete_sequence=px.colors.qualitative.Set2) In\u00a0[8]: Copied! <pre>xpx(stocks).line(\n    color_discrete_sequence=[\"#E63946\", \"#457B9D\", \"#2A9D8F\", \"#E9C46A\", \"#F4A261\", \"#264653\"]\n)\n</pre> xpx(stocks).line(     color_discrete_sequence=[\"#E63946\", \"#457B9D\", \"#2A9D8F\", \"#E9C46A\", \"#F4A261\", \"#264653\"] ) In\u00a0[9]: Copied! <pre>xpx(stocks).imshow(color_continuous_scale=\"Viridis\")\n</pre> xpx(stocks).imshow(color_continuous_scale=\"Viridis\") In\u00a0[10]: Copied! <pre># Diverging colorscale with midpoint\nchange = stocks - stocks.isel(date=0)\nxpx(change).imshow(color_continuous_scale=\"RdBu_r\", color_continuous_midpoint=0)\n</pre> # Diverging colorscale with midpoint change = stocks - stocks.isel(date=0) xpx(change).imshow(color_continuous_scale=\"RdBu_r\", color_continuous_midpoint=0) In\u00a0[11]: Copied! <pre>xpx(stocks.isel(date=slice(0, 30))).line(markers=True)\n</pre> xpx(stocks.isel(date=slice(0, 30))).line(markers=True) In\u00a0[12]: Copied! <pre>xpx(stocks.isel(date=[0, 50, 100])).bar(barmode=\"group\")\n</pre> xpx(stocks.isel(date=[0, 50, 100])).bar(barmode=\"group\") In\u00a0[13]: Copied! <pre>xpx(stocks.isel(date=[0, 50, 100])).bar(barmode=\"group\", text_auto=\".2f\")\n</pre> xpx(stocks.isel(date=[0, 50, 100])).bar(barmode=\"group\", text_auto=\".2f\") In\u00a0[14]: Copied! <pre>xpx(stocks).line(range_y=[0.5, 2.0])\n</pre> xpx(stocks).line(range_y=[0.5, 2.0])"},{"location":"examples/kwargs/#plotly-express-kwargs","title":"Plotly Express Kwargs\u00b6","text":"<p>All keyword arguments are passed directly to Plotly Express.</p>"},{"location":"examples/kwargs/#title","title":"title\u00b6","text":""},{"location":"examples/kwargs/#template","title":"template\u00b6","text":"<p>See Plotly templates.</p>"},{"location":"examples/kwargs/#labels","title":"labels\u00b6","text":"<p>Override axis and legend labels:</p>"},{"location":"examples/kwargs/#color_discrete_sequence","title":"color_discrete_sequence\u00b6","text":"<p>See Plotly color sequences.</p>"},{"location":"examples/kwargs/#color_continuous_scale","title":"color_continuous_scale\u00b6","text":"<p>See Plotly colorscales.</p>"},{"location":"examples/kwargs/#markers","title":"markers\u00b6","text":""},{"location":"examples/kwargs/#barmode","title":"barmode\u00b6","text":"<p>See Plotly bar charts.</p>"},{"location":"examples/kwargs/#text_auto","title":"text_auto\u00b6","text":""},{"location":"examples/kwargs/#range_x-range_y","title":"range_x, range_y\u00b6","text":""},{"location":"examples/kwargs/#more","title":"More\u00b6","text":"<p>See the full Plotly Express API reference for all available kwargs.</p>"},{"location":"examples/manipulation/","title":"Figure Manipulation","text":"In\u00a0[1]: Copied! <pre>import numpy as np\nimport plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import config, update_traces, xpx\n\nconfig.notebook()\n</pre> import numpy as np import plotly.express as px import xarray as xr  from xarray_plotly import config, update_traces, xpx  config.notebook() In\u00a0[2]: Copied! <pre># 4D DataArray: scenario x metric x year x country\ndf_gap = px.data.gapminder()\ncountries = [\"United States\", \"China\", \"Germany\", \"Brazil\"]\nmetrics = [\"lifeExp\", \"gdpPercap\"]\n\n# Build base 3D array (metric x year x country)\narrays = []\nfor metric in metrics:\n    df_pivot = df_gap[df_gap[\"country\"].isin(countries)].pivot(\n        index=\"year\", columns=\"country\", values=metric\n    )\n    arrays.append(df_pivot.values)\n\nbase_3d = np.stack(arrays)\n\n# Add scenario dimension (4D): original + 10% higher\nscenarios = [\"baseline\", \"optimistic\"]\ndata_4d = np.stack([base_3d, base_3d * 1.1])\n\nda = xr.DataArray(\n    data_4d,\n    dims=[\"scenario\", \"metric\", \"year\", \"country\"],\n    coords={\n        \"scenario\": scenarios,\n        \"metric\": metrics,\n        \"year\": df_pivot.index.tolist(),\n        \"country\": df_pivot.columns.tolist(),\n    },\n    name=\"value\",\n)\nda\n</pre> # 4D DataArray: scenario x metric x year x country df_gap = px.data.gapminder() countries = [\"United States\", \"China\", \"Germany\", \"Brazil\"] metrics = [\"lifeExp\", \"gdpPercap\"]  # Build base 3D array (metric x year x country) arrays = [] for metric in metrics:     df_pivot = df_gap[df_gap[\"country\"].isin(countries)].pivot(         index=\"year\", columns=\"country\", values=metric     )     arrays.append(df_pivot.values)  base_3d = np.stack(arrays)  # Add scenario dimension (4D): original + 10% higher scenarios = [\"baseline\", \"optimistic\"] data_4d = np.stack([base_3d, base_3d * 1.1])  da = xr.DataArray(     data_4d,     dims=[\"scenario\", \"metric\", \"year\", \"country\"],     coords={         \"scenario\": scenarios,         \"metric\": metrics,         \"year\": df_pivot.index.tolist(),         \"country\": df_pivot.columns.tolist(),     },     name=\"value\", ) da Out[2]: <pre>&lt;xarray.DataArray 'value' (scenario: 2, metric: 2, year: 12, country: 4)&gt; Size: 2kB\narray([[[[5.09170000e+01, 4.40000000e+01, 6.75000000e+01,\n          6.84400000e+01],\n         [5.32850000e+01, 5.05489600e+01, 6.91000000e+01,\n          6.94900000e+01],\n         [5.56650000e+01, 4.45013600e+01, 7.03000000e+01,\n          7.02100000e+01],\n         [5.76320000e+01, 5.83811200e+01, 7.08000000e+01,\n          7.07600000e+01],\n         [5.95040000e+01, 6.31188800e+01, 7.10000000e+01,\n          7.13400000e+01],\n         [6.14890000e+01, 6.39673600e+01, 7.25000000e+01,\n          7.33800000e+01],\n         [6.33360000e+01, 6.55250000e+01, 7.38000000e+01,\n          7.46500000e+01],\n         [6.52050000e+01, 6.72740000e+01, 7.48470000e+01,\n          7.50200000e+01],\n         [6.70570000e+01, 6.86900000e+01, 7.60700000e+01,\n          7.60900000e+01],\n         [6.93880000e+01, 7.04260000e+01, 7.73400000e+01,\n          7.68100000e+01],\n...\n         [3.67024438e+03, 5.36441420e+02, 1.41927092e+04,\n          1.77904604e+04],\n         [3.77285079e+03, 6.73976263e+02, 1.62201882e+04,\n          2.14834021e+04],\n         [5.48428261e+03, 7.44590101e+02, 1.98177983e+04,\n          2.39866395e+04],\n         [7.32613052e+03, 8.15361217e+02, 2.25642134e+04,\n          2.64798953e+04],\n         [7.73391947e+03, 1.05866352e+03, 2.42346860e+04,\n          2.75105151e+04],\n         [8.58780540e+03, 1.51679442e+03, 2.71031042e+04,\n          3.28727855e+04],\n         [7.64531132e+03, 1.82136257e+03, 2.91558335e+04,\n          3.52043255e+04],\n         [8.75377891e+03, 2.51815755e+03, 3.05677726e+04,\n          3.93441763e+04],\n         [8.94433413e+03, 3.43120899e+03, 3.30393822e+04,\n          4.30068095e+04],\n         [9.97238091e+03, 5.45502634e+03, 3.53874119e+04,\n          4.72468184e+04]]]])\nCoordinates:\n  * scenario  (scenario) &lt;U10 80B 'baseline' 'optimistic'\n  * metric    (metric) &lt;U9 72B 'lifeExp' 'gdpPercap'\n  * year      (year) int64 96B 1952 1957 1962 1967 1972 ... 1992 1997 2002 2007\n  * country   (country) &lt;U13 208B 'Brazil' 'China' 'Germany' 'United States'</pre>xarray.DataArray'value'<ul><li>scenario: 2</li><li>metric: 2</li><li>year: 12</li><li>country: 4</li></ul><ul><li>50.92 44.0 67.5 68.44 ... 9.972e+03 5.455e+03 3.539e+04 4.725e+04<pre>array([[[[5.09170000e+01, 4.40000000e+01, 6.75000000e+01,\n          6.84400000e+01],\n         [5.32850000e+01, 5.05489600e+01, 6.91000000e+01,\n          6.94900000e+01],\n         [5.56650000e+01, 4.45013600e+01, 7.03000000e+01,\n          7.02100000e+01],\n         [5.76320000e+01, 5.83811200e+01, 7.08000000e+01,\n          7.07600000e+01],\n         [5.95040000e+01, 6.31188800e+01, 7.10000000e+01,\n          7.13400000e+01],\n         [6.14890000e+01, 6.39673600e+01, 7.25000000e+01,\n          7.33800000e+01],\n         [6.33360000e+01, 6.55250000e+01, 7.38000000e+01,\n          7.46500000e+01],\n         [6.52050000e+01, 6.72740000e+01, 7.48470000e+01,\n          7.50200000e+01],\n         [6.70570000e+01, 6.86900000e+01, 7.60700000e+01,\n          7.60900000e+01],\n         [6.93880000e+01, 7.04260000e+01, 7.73400000e+01,\n          7.68100000e+01],\n...\n         [3.67024438e+03, 5.36441420e+02, 1.41927092e+04,\n          1.77904604e+04],\n         [3.77285079e+03, 6.73976263e+02, 1.62201882e+04,\n          2.14834021e+04],\n         [5.48428261e+03, 7.44590101e+02, 1.98177983e+04,\n          2.39866395e+04],\n         [7.32613052e+03, 8.15361217e+02, 2.25642134e+04,\n          2.64798953e+04],\n         [7.73391947e+03, 1.05866352e+03, 2.42346860e+04,\n          2.75105151e+04],\n         [8.58780540e+03, 1.51679442e+03, 2.71031042e+04,\n          3.28727855e+04],\n         [7.64531132e+03, 1.82136257e+03, 2.91558335e+04,\n          3.52043255e+04],\n         [8.75377891e+03, 2.51815755e+03, 3.05677726e+04,\n          3.93441763e+04],\n         [8.94433413e+03, 3.43120899e+03, 3.30393822e+04,\n          4.30068095e+04],\n         [9.97238091e+03, 5.45502634e+03, 3.53874119e+04,\n          4.72468184e+04]]]])</pre></li><li>Coordinates: (4)<ul><li>scenario(scenario)&lt;U10'baseline' 'optimistic'<pre>array(['baseline', 'optimistic'], dtype='&lt;U10')</pre></li><li>metric(metric)&lt;U9'lifeExp' 'gdpPercap'<pre>array(['lifeExp', 'gdpPercap'], dtype='&lt;U9')</pre></li><li>year(year)int641952 1957 1962 ... 1997 2002 2007<pre>array([1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007])</pre></li><li>country(country)&lt;U13'Brazil' ... 'United States'<pre>array(['Brazil', 'China', 'Germany', 'United States'], dtype='&lt;U13')</pre></li></ul></li></ul> In\u00a0[3]: Copied! <pre># Simple 2D slice\nfig = xpx(da.sel(scenario=\"baseline\", metric=\"lifeExp\")).line()\nfig\n</pre> # Simple 2D slice fig = xpx(da.sel(scenario=\"baseline\", metric=\"lifeExp\")).line() fig In\u00a0[4]: Copied! <pre># Layout\nfig.update_layout(title=\"Life Expectancy Over Time\", template=\"plotly_white\")\n\n# All traces\nfig.update_traces(line_width=3)\n\n# Specific trace by name\nfig.update_traces(line_dash=\"dot\", selector={\"name\": \"Germany\"})\n\n# Axes\nfig.update_xaxes(title=\"Year\", showgrid=False)\nfig.update_yaxes(title=\"Life Expectancy (years)\", range=[40, 85])\n\n# Reference line\nfig.add_hline(y=70, line_dash=\"dash\", line_color=\"gray\", annotation_text=\"Target\")\n\nfig\n</pre> # Layout fig.update_layout(title=\"Life Expectancy Over Time\", template=\"plotly_white\")  # All traces fig.update_traces(line_width=3)  # Specific trace by name fig.update_traces(line_dash=\"dot\", selector={\"name\": \"Germany\"})  # Axes fig.update_xaxes(title=\"Year\", showgrid=False) fig.update_yaxes(title=\"Life Expectancy (years)\", range=[40, 85])  # Reference line fig.add_hline(y=70, line_dash=\"dash\", line_color=\"gray\", annotation_text=\"Target\")  fig In\u00a0[5]: Copied! <pre># Facet by metric, color by country\nfig = xpx(da.sel(scenario=\"baseline\")).line(facet_col=\"metric\")\nfig\n</pre> # Facet by metric, color by country fig = xpx(da.sel(scenario=\"baseline\")).line(facet_col=\"metric\") fig In\u00a0[6]: Copied! <pre># Update ALL traces across all facets\nfig.update_traces(line_width=2)\n\n# Update ALL axes\nfig.update_xaxes(showgrid=False)\n\n# Target specific facet (1-indexed)\nfig.update_yaxes(type=\"log\", col=2)  # log scale only for gdpPercap\n\nfig\n</pre> # Update ALL traces across all facets fig.update_traces(line_width=2)  # Update ALL axes fig.update_xaxes(showgrid=False)  # Target specific facet (1-indexed) fig.update_yaxes(type=\"log\", col=2)  # log scale only for gdpPercap  fig In\u00a0[7]: Copied! <pre># 2x2 grid: scenario x metric\nfig = xpx(da).line(facet_col=\"metric\", facet_row=\"scenario\")\n\nfig.update_traces(line_width=2)\nfig.update_yaxes(type=\"log\", col=2)  # log scale for gdpPercap column\nfig\n</pre> # 2x2 grid: scenario x metric fig = xpx(da).line(facet_col=\"metric\", facet_row=\"scenario\")  fig.update_traces(line_width=2) fig.update_yaxes(type=\"log\", col=2)  # log scale for gdpPercap column fig In\u00a0[8]: Copied! <pre># Animated bar chart\nfig = xpx(da.sel(scenario=\"baseline\", metric=\"gdpPercap\")).bar(animation_frame=\"year\")\nfig\n</pre> # Animated bar chart fig = xpx(da.sel(scenario=\"baseline\", metric=\"gdpPercap\")).bar(animation_frame=\"year\") fig In\u00a0[9]: Copied! <pre># This only affects the INITIAL view!\nfig.update_traces(marker_color=\"red\")\n\nprint(f\"Base trace color: {fig.data[0].marker.color}\")\nprint(f\"Frame 0 trace color: {fig.frames[0].data[0].marker.color}\")\n</pre> # This only affects the INITIAL view! fig.update_traces(marker_color=\"red\")  print(f\"Base trace color: {fig.data[0].marker.color}\") print(f\"Frame 0 trace color: {fig.frames[0].data[0].marker.color}\") <pre>Base trace color: red\nFrame 0 trace color: #636efa\n</pre> In\u00a0[10]: Copied! <pre># Play the animation - it reverts to original colors\nfig\n</pre> # Play the animation - it reverts to original colors fig In\u00a0[11]: Copied! <pre>fig = xpx(da.sel(scenario=\"baseline\", metric=\"gdpPercap\")).bar(animation_frame=\"year\")\n\nupdate_traces(fig, marker_color=\"red\", marker_opacity=0.8)\n\nprint(f\"Base trace color: {fig.data[0].marker.color}\")\nprint(f\"Frame 0 trace color: {fig.frames[0].data[0].marker.color}\")\n</pre> fig = xpx(da.sel(scenario=\"baseline\", metric=\"gdpPercap\")).bar(animation_frame=\"year\")  update_traces(fig, marker_color=\"red\", marker_opacity=0.8)  print(f\"Base trace color: {fig.data[0].marker.color}\") print(f\"Frame 0 trace color: {fig.frames[0].data[0].marker.color}\") <pre>Base trace color: red\nFrame 0 trace color: red\n</pre> In\u00a0[12]: Copied! <pre># Now the style persists through animation\nfig\n</pre> # Now the style persists through animation fig In\u00a0[13]: Copied! <pre>fig = xpx(da.sel(scenario=\"baseline\", metric=\"lifeExp\")).line(x=\"year\")\n\n# Highlight specific countries\nupdate_traces(fig, selector={\"name\": \"China\"}, line_color=\"red\", line_width=4)\nupdate_traces(fig, selector={\"name\": \"United States\"}, line_color=\"blue\", line_width=4)\n\nfig\n</pre> fig = xpx(da.sel(scenario=\"baseline\", metric=\"lifeExp\")).line(x=\"year\")  # Highlight specific countries update_traces(fig, selector={\"name\": \"China\"}, line_color=\"red\", line_width=4) update_traces(fig, selector={\"name\": \"United States\"}, line_color=\"blue\", line_width=4)  fig In\u00a0[14]: Copied! <pre>fig = xpx(da.sel(metric=\"gdpPercap\")).line(x=\"year\", animation_frame=\"scenario\")\n\n# Layout settings - standard Plotly\nfig.update_layout(hovermode=\"x unified\")\nfig.update_xaxes(showspikes=True, spikecolor=\"gray\", spikethickness=1)\n\n# Trace settings - use update_traces for animation support\nupdate_traces(fig, hovertemplate=\"&lt;b&gt;%{fullData.name}&lt;/b&gt;: $%{y:,.0f}&lt;extra&gt;&lt;/extra&gt;\")\n\nfig\n</pre> fig = xpx(da.sel(metric=\"gdpPercap\")).line(x=\"year\", animation_frame=\"scenario\")  # Layout settings - standard Plotly fig.update_layout(hovermode=\"x unified\") fig.update_xaxes(showspikes=True, spikecolor=\"gray\", spikethickness=1)  # Trace settings - use update_traces for animation support update_traces(fig, hovertemplate=\"%{fullData.name}: $%{y:,.0f}\")  fig In\u00a0[15]: Copied! <pre># Facet by metric, animate by scenario\nfig = xpx(da).line(facet_col=\"metric\", animation_frame=\"scenario\")\n\n# Standard Plotly for layout\nfig.update_yaxes(type=\"log\", col=2)\n\n# update_traces for trace properties with animation\nupdate_traces(fig, line_width=3)\nupdate_traces(fig, selector={\"name\": \"China\"}, line_dash=\"dot\")\n\nfig\n</pre> # Facet by metric, animate by scenario fig = xpx(da).line(facet_col=\"metric\", animation_frame=\"scenario\")  # Standard Plotly for layout fig.update_yaxes(type=\"log\", col=2)  # update_traces for trace properties with animation update_traces(fig, line_width=3) update_traces(fig, selector={\"name\": \"China\"}, line_dash=\"dot\")  fig"},{"location":"examples/manipulation/#figure-manipulation","title":"Figure Manipulation\u00b6","text":"<p>After creating a figure with <code>xpx()</code>, you can manipulate it using standard Plotly methods. This notebook shows what works out of the box, and where <code>update_traces</code> from xarray-plotly helps.</p>"},{"location":"examples/manipulation/#standard-plotly-methods","title":"Standard Plotly Methods\u00b6","text":"<p>All standard Plotly manipulation methods work on figures created with <code>xpx()</code>.</p>"},{"location":"examples/manipulation/#faceted-plots","title":"Faceted Plots\u00b6","text":"<p><code>update_traces</code>, <code>update_xaxes</code>, <code>update_yaxes</code> work across all facets.</p>"},{"location":"examples/manipulation/#grid-layout-with-facet_row","title":"Grid layout with facet_row\u00b6","text":""},{"location":"examples/manipulation/#animation-the-pain-point","title":"Animation: The Pain Point\u00b6","text":"<p>Plotly's <code>fig.update_traces()</code> does not update animation frames. This is the main gotcha.</p>"},{"location":"examples/manipulation/#solution-update_traces-from-xarray-plotly","title":"Solution: <code>update_traces</code> from xarray-plotly\u00b6","text":"<p>This helper updates both base traces and all animation frames.</p>"},{"location":"examples/manipulation/#selective-updates-with-selector","title":"Selective updates with selector\u00b6","text":""},{"location":"examples/manipulation/#unified-hover-with-animation","title":"Unified hover with animation\u00b6","text":"<p>A common pattern: unified hover mode with custom formatting.</p> <ul> <li>Layout (<code>hovermode</code>, spikes): Standard Plotly works fine</li> <li>Traces (<code>hovertemplate</code>): Use <code>update_traces()</code> for animation support</li> </ul>"},{"location":"examples/manipulation/#facets-animation","title":"Facets + Animation\u00b6","text":""},{"location":"examples/manipulation/#summary","title":"Summary\u00b6","text":"Method Static/Faceted Animated <code>fig.update_layout()</code> \u2705 \u2705 <code>fig.update_xaxes()</code> / <code>fig.update_yaxes()</code> \u2705 \u2705 <code>fig.add_hline()</code> / <code>fig.add_vline()</code> \u2705 \u2705 <code>fig.update_traces()</code> \u2705 \u274c base only <code>update_traces(fig, ...)</code> \u2705 \u2705 all frames"},{"location":"examples/plot-types/","title":"Plot Types","text":"In\u00a0[1]: Copied! <pre>import plotly.express as px\nimport xarray as xr\n\nfrom xarray_plotly import config, xpx\n\nconfig.notebook()\n</pre> import plotly.express as px import xarray as xr  from xarray_plotly import config, xpx  config.notebook() In\u00a0[2]: Copied! <pre># Sample data\ndf = px.data.stocks().set_index(\"date\")\ndf.index = df.index.astype(\"datetime64[ns]\")\n\nstocks = xr.DataArray(\n    df.values,\n    dims=[\"date\", \"company\"],\n    coords={\"date\": df.index, \"company\": df.columns.tolist()},\n    name=\"price\",\n)\n</pre> # Sample data df = px.data.stocks().set_index(\"date\") df.index = df.index.astype(\"datetime64[ns]\")  stocks = xr.DataArray(     df.values,     dims=[\"date\", \"company\"],     coords={\"date\": df.index, \"company\": df.columns.tolist()},     name=\"price\", ) In\u00a0[3]: Copied! <pre>xpx(stocks).area()\n</pre> xpx(stocks).area() In\u00a0[4]: Copied! <pre>xpx(stocks.isel(date=[0, 25, 50, 75, 100])).bar()\n</pre> xpx(stocks.isel(date=[0, 25, 50, 75, 100])).bar() In\u00a0[5]: Copied! <pre>xpx(stocks).box()\n</pre> xpx(stocks).box() In\u00a0[6]: Copied! <pre>xpx(stocks).imshow()\n</pre> xpx(stocks).imshow() In\u00a0[7]: Copied! <pre>xpx(stocks).line()\n</pre> xpx(stocks).line() In\u00a0[8]: Copied! <pre>xpx(stocks.isel(date=-1)).pie()\n</pre> xpx(stocks.isel(date=-1)).pie() In\u00a0[9]: Copied! <pre>xpx(stocks).scatter()\n</pre> xpx(stocks).scatter()"},{"location":"examples/plot-types/#plot-types","title":"Plot Types\u00b6","text":"<p>Overview of all available plot types.</p>"},{"location":"examples/plot-types/#area","title":"area\u00b6","text":""},{"location":"examples/plot-types/#bar","title":"bar\u00b6","text":""},{"location":"examples/plot-types/#box","title":"box\u00b6","text":""},{"location":"examples/plot-types/#imshow","title":"imshow\u00b6","text":""},{"location":"examples/plot-types/#line","title":"line\u00b6","text":""},{"location":"examples/plot-types/#pie","title":"pie\u00b6","text":""},{"location":"examples/plot-types/#scatter","title":"scatter\u00b6","text":""}]}